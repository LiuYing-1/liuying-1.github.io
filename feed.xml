<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://liuying-1.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://liuying-1.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2024-07-08T14:47:54+00:00</updated><id>https://liuying-1.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Graduation</title><link href="https://liuying-1.github.io/blog/2024/graduation/" rel="alternate" type="text/html" title="Graduation"/><published>2024-06-28T10:15:00+00:00</published><updated>2024-06-28T10:15:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/graduation</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/graduation/"><![CDATA[<p>I am thrilled to announce that I have successfully defended my master thesis and received my Masterâ€™s Degree in Computer Science from the Department of Computer Science (DIKU), University of Copenhagen.</p> <div class="row mt-3 mb-3"> <div class="col-sm mt-3 mt-md-0"> <img src="/assets/img/graduation-photo.jpg" alt="graduation-photo" class="img-fluid rounded z-depth-1" data-zoomable=""/> </div> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/7Ee4Raf.jpeg" alt="graduation-photo-2" class="img-fluid rounded z-depth-1" data-zoomable=""/> </div> </div> <p>The title of my thesis is â€œExploration of Self-Supervised Learning Methods for Longitudinal Image Analysisâ€, specifically focusing on the application of self-supervised learning methods, which are BYOL and SimSIAM, in medical image analysis for longitudinal studies (i.e., tumor progression) on lung cancer. The 3D ResNet model is first pre-trained on the LIDC-IDRI dataset, and then the model is tasked with predicting the tumor volume at the future timepoint of the same subject, on the Longitudinal 4D Lung dataset. The results show that the self-supervised learning methods cannot be used to train 3D ResNet to learn meaningful representations for longitudinal image analysis, and the learned representations are not significantly correlated with the actual tumor volume, verified by the linear probing task. This failure is attributed to the following reasons: 1. the volume featured by the LIDC-IDRI dataset (nodules) is with substatial differences from the Longitudinal 4D Lung dataset (tumors), 2. the current pre-processing pipeline does not isolate the lung region perfectly, 3. the model is not fine-tuned on the longitudinal downstream task, and 4. the invovled augmentations impair the modelâ€™s ability to learn precise tumor volume representations.</p> <div class="row mt-3 mb-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/16tSUKF.png" alt="2831691531627_.pic" class="img-fluid rounded z-depth-1" data-zoomable=""/> </div> </div> <p>I am grateful for the support and guidance from my supervisor, friends, and family, along the way. Thank you to everyone who has been a part of this journey with me. ğŸ“ğŸ‰</p> <p>Additionally, I am very excited to share the news that I am going to work as an AI engineer in a company, to embark on the next chapter of my life and look forward to new opportunities and challenges. ğŸš€</p>]]></content><author><name></name></author><category term="study"/><category term="ucph"/><category term="fun"/><summary type="html"><![CDATA[Congratulations to my graduation from the DIKU, University of Copenhagen.]]></summary></entry><entry><title type="html">a post with tabs</title><link href="https://liuying-1.github.io/blog/2024/tabs/" rel="alternate" type="text/html" title="a post with tabs"/><published>2024-05-01T00:32:13+00:00</published><updated>2024-05-01T00:32:13+00:00</updated><id>https://liuying-1.github.io/blog/2024/tabs</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/tabs/"><![CDATA[<p>This is how a post with <a href="https://github.com/Ovski4/jekyll-tabs">tabs</a> looks like. Note that the tabs could be used for different purposes, not only for code.</p> <h2 id="first-tabs">First tabs</h2> <p>To add tabs, use the following syntax:</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">tabs</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-1</span><span class="w"> </span><span class="cp">%}</span>

Content 1

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-2</span><span class="w"> </span><span class="cp">%}</span>

Content 2

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtabs</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div> <p>With this you can generate visualizations like:</p> <ul id="log" class="tab" data-tab="73231f50-3d66-4daf-84f9-4eb758178d3d" data-name="log"> <li class="active" id="log-php"> <a href="#">php </a> </li> <li id="log-js"> <a href="#">js </a> </li> <li id="log-ruby"> <a href="#">ruby </a> </li> </ul> <ul class="tab-content" id="73231f50-3d66-4daf-84f9-4eb758178d3d" data-name="log"> <li class="active"> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">var_dump</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">pputs</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
</code></pre></div></div> </li> </ul> <h2 id="another-example">Another example</h2> <ul id="data-struct" class="tab" data-tab="98cd1290-758c-4843-b52e-4e4ac6176dd2" data-name="data-struct"> <li class="active" id="data-struct-yaml"> <a href="#">yaml </a> </li> <li id="data-struct-json"> <a href="#">json </a> </li> </ul> <ul class="tab-content" id="98cd1290-758c-4843-b52e-4e4ac6176dd2" data-name="data-struct"> <li class="active"> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">hello</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">whatsup"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">hi"</span>
</code></pre></div></div> </li> <li> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"hello"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"whatsup"</span><span class="p">,</span><span class="w"> </span><span class="s2">"hi"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> </li> </ul> <h2 id="tabs-for-something-else">Tabs for something else</h2> <ul id="something-else" class="tab" data-tab="6cc80c31-b914-423b-9771-ad9144f7f4eb" data-name="something-else"> <li class="active" id="something-else-text"> <a href="#">text </a> </li> <li id="something-else-quote"> <a href="#">quote </a> </li> <li id="something-else-list"> <a href="#">list </a> </li> </ul> <ul class="tab-content" id="6cc80c31-b914-423b-9771-ad9144f7f4eb" data-name="something-else"> <li class="active"> <p>Regular text</p> </li> <li> <blockquote> <p>A quote</p> </blockquote> </li> <li> <p>Hipster list</p> <ul> <li>brunch</li> <li>fixie</li> <li>raybans</li> <li>messenger bag</li> </ul> </li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included tabs in a post could look like]]></summary></entry><entry><title type="html">a post with typograms</title><link href="https://liuying-1.github.io/blog/2024/typograms/" rel="alternate" type="text/html" title="a post with typograms"/><published>2024-04-29T23:36:10+00:00</published><updated>2024-04-29T23:36:10+00:00</updated><id>https://liuying-1.github.io/blog/2024/typograms</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/typograms/"><![CDATA[<p>This is an example post with some <a href="https://github.com/google/typograms/">typograms</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">+----+
|    |---&gt; My first diagram!
+----+</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-typograms">+----+
|    |---&gt; My first diagram!
+----+
</code></pre> <p>Another example:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.</span>
<span class="p">```</span>
</code></pre></div></div> <p>which generates:</p> <pre><code class="language-typograms">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.
</code></pre> <p>For more examples, check out the <a href="https://google.github.io/typograms/#examples">typograms documentation</a>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="diagrams"/><summary type="html"><![CDATA[this is what included typograms code could look like]]></summary></entry><entry><title type="html">a post that can be cited</title><link href="https://liuying-1.github.io/blog/2024/post-citation/" rel="alternate" type="text/html" title="a post that can be cited"/><published>2024-04-28T15:06:00+00:00</published><updated>2024-04-28T15:06:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/post-citation</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/post-citation/"><![CDATA[<p>This is an example post that can be cited. The content of the post ends here, while the citation information is automatically provided below. The only thing needed is for you to set the <code class="language-plaintext highlighter-rouge">citation</code> key in the front matter to <code class="language-plaintext highlighter-rouge">true</code>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="citation"/><summary type="html"><![CDATA[this is what a post that can be cited looks like]]></summary></entry><entry><title type="html">a post with pseudo code</title><link href="https://liuying-1.github.io/blog/2024/pseudocode/" rel="alternate" type="text/html" title="a post with pseudo code"/><published>2024-04-15T00:01:00+00:00</published><updated>2024-04-15T00:01:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/pseudocode</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/pseudocode/"><![CDATA[<p>This is an example post with some pseudo code rendered by <a href="https://github.com/SaswatPadhi/pseudocode.js">pseudocode</a>. The example presented here is the same as the one in the <a href="https://saswat.padhi.me/pseudocode.js/">pseudocode.js</a> documentation, with only one simple but important change: everytime you would use <code class="language-plaintext highlighter-rouge">$</code>, you should use <code class="language-plaintext highlighter-rouge">$$</code> instead. Also, note that the <code class="language-plaintext highlighter-rouge">pseudocode</code> key in the front matter is set to <code class="language-plaintext highlighter-rouge">true</code> to enable the rendering of pseudo code. As an example, using this code:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">pseudocode
</span><span class="sb">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Generates:</p> <pre><code class="language-pseudocode">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included pseudo code could look like]]></summary></entry><entry><title type="html">Review of SwAV</title><link href="https://liuying-1.github.io/blog/2024/swav/" rel="alternate" type="text/html" title="Review of SwAV"/><published>2024-02-12T10:31:00+00:00</published><updated>2024-02-12T10:31:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/swav</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/swav/"><![CDATA[]]></content><author><name></name></author><category term="study"/><category term="ucph"/><category term="ssl"/><summary type="html"><![CDATA[This is the learning of the paper SwAV.]]></summary></entry><entry><title type="html">Review of SimSiam</title><link href="https://liuying-1.github.io/blog/2024/simsiam/" rel="alternate" type="text/html" title="Review of SimSiam"/><published>2024-02-12T09:31:00+00:00</published><updated>2024-02-12T09:31:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/simsiam</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/simsiam/"><![CDATA[]]></content><author><name></name></author><category term="study"/><category term="ucph"/><category term="ssl"/><summary type="html"><![CDATA[This is the learning of the paper SimSiam.]]></summary></entry><entry><title type="html">Extracts from BYOL</title><link href="https://liuying-1.github.io/blog/2024/byol/" rel="alternate" type="text/html" title="Extracts from BYOL"/><published>2024-02-11T08:00:00+00:00</published><updated>2024-02-11T08:00:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/byol</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/byol/"><![CDATA[<p>BYOL is the abbr. of <u>Bootstrap Your Own Latent: A New Approach to Self-Supervised Learning</u>.</p> <h3 id="cookbook-for-byol">Cookbook for BYOL</h3> <p>First of all, BYOL method probably the first one removes the clustering step, introduces a predictor and projector network, fefines the continuous targets as the output of a momentum network, renormalize each sample representation by its \(l_2\)-norm and leverage positive pairs. The predictor acts as a whitening operator preventing collapse, and momentum network can be applied only to the projector.</p> <p>It first introduced self-distillation as a means to avoid collapse. It usees two networks along with a predictor to map the outputs of one network to the other. The network predicting the output is called the online or student network while the network producing the target is called the target or teacher network. Each network receives a different view of the same image formed by image transformations including random resizing, cropping, color jittering, and brightness alterations. The student network is updated throughout training using gradient descent. The teacher network is updated with an exponential moving average (EMA) updates of the weights of the online network. The slow updates induced by exponential moving average creates an asymmetry that is crucial to BYOLâ€™s success.</p> <h3 id="original-paper">Original Paper</h3> <p>Please check the original paper here <a href="https://arxiv.org/abs/2006.07733">BYOL</a>.</p> <h4 id="abstract">Abstract</h4> <ul> <li><strong>BYOL</strong>, a <strong>new</strong> apporach to <strong>self-supervised learning</strong>.</li> <li>BYOL relies on two neural networks, referred to as the <strong>online</strong> network and the <strong>target</strong> network, that <strong>interact</strong> and <strong>learn from each other</strong>.</li> <li>From <strong>an augmented view of an image</strong>, we train the <strong>online network to predict the target network representation of the same image under a different augmented view</strong>.</li> <li>At the same time, we <strong>update the target network with a slow-moving average of the online network</strong>.</li> <li>(Back then), while state-of-the-art methods <strong>rely on negative pairs</strong>, BYOL achieves a new state of the art <strong>without them</strong>.</li> </ul> <hr/> <p>Online first updates, updates of target come from online by EMA.</p> <p>Without negative pairs can be competative as well.</p> <p>Train the online to predict the target network representation.</p> <hr/> <h4 id="introduction">Introduction</h4> <ul> <li>(Back then,) state-of-the-art <strong>contrastive methods</strong> are trained by <strong>reducing the distance between representations of different augmented views of the same image (â€˜positive pairsâ€™)</strong>, and <strong>increasing the distance between representations of augmented views from different images (â€˜negative pairsâ€™)</strong>.</li> <li>These methods need <strong>careful treatment of negative pairs</strong> by either <strong>relying on large batch sizes</strong>, <strong>memory banks</strong> or <strong>customized mining strategies</strong> to retrieve the negative pairs.</li> <li>In addition, their performance <strong>critically</strong> depends on the <strong>choice of image augmentations</strong>.</li> </ul> <hr/> <p>BYOL can overcome the previous shortages from the previous methods, which are: <strong>no need negative pairs</strong>, <strong>careful treatment of negative pairs</strong>, <strong>choice of hyper-parameters</strong>, and <strong>choice of augmentations</strong>.</p> <hr/> <ul> <li>BYOL achieves higher performance than state-of-the-art contrastive methods <strong>without using negative pairs</strong>.</li> <li>It <strong>iteratively</strong> <strong>bootstraps the outputs of a network to serve as targets for an enhanced representation</strong>.</li> <li>BYOL is <strong>more robust</strong> to the <strong>choice of image augmentations</strong> than contrastive methods; we suspect that <strong>not relying on negative pairs</strong> is one of the leading reasons for its <strong>improved robustness</strong>.</li> <li>We propose to <strong>directly bootstrap the representations</strong>. ==&gt; Different from previous methods.</li> <li>In particular, <strong>BYOL uses two neural networks, referred to as online and target networks, that interatct and learn from each other.</strong></li> <li>Starting from <strong>an augmented view of an image</strong>, BYOL <strong>trains its online network</strong> to <strong>predict the target networkâ€™s representation</strong> of <strong>another augmented view</strong> of the <strong>same image</strong>.</li> <li>While this objective <strong>admits collapsed solutions</strong>, e.g., <strong>outputting the same vector for all images</strong>, we empirically show that <strong>BYOL does not converage to such solutions</strong>.</li> <li>We hypothesize that the <strong>combination</strong> of (i) the <strong>addition of a predictor to the online network</strong> and (ii) the <strong>use of a slow-moving average of the online parameters as the target network</strong> encourages <strong>encoding more and more information within the online projection</strong> and <strong>avoids collapsed solutions</strong>.</li> </ul> <hr/> <ul> <li>BYOL achieves state-of-the-art results under the <strong>linear evaluation protocol on ImageNet without using negative pairs</strong>.</li> <li>Our learned representation outperforms the state of the art on semi-supervised and transfer benchmarks.</li> <li>BYOL is <strong>more resilient</strong> to <strong>changes in the batch size</strong> and <strong>in the set of image augmentations</strong> compared to its contrastive counterparts.</li> <li>In particular, BYOL sufferes a much smaller performance drop than SimCLR, a strong contrastive basline, when only using random crops as image augmentations.</li> </ul> <h4 id="related-work">Related work</h4> <ul> <li>Most <strong>unsupervised methods for representation learning</strong> can be categorized as either <strong>generative</strong> or <strong>discriminative</strong>.</li> <li><strong>Generative approaches to representation learning</strong> build <strong>a distribution over data and latent embedding</strong> and <strong>use the learned embeddings as image representations</strong>.</li> <li>Many of these apporaches <strong>rely either on auto-encoding of images</strong> or on <strong>adversarial learning</strong>, jointly modelling data and representation.</li> <li>Generative methods typically operate <strong>directly in pixel space</strong>.</li> <li>This however is <strong>computationally expensive</strong>, and the <strong>high level of detail required for image generation</strong> may <strong>not be necessary</strong> for representation learning.</li> </ul> <hr/> <p>The <strong>intro</strong> and <strong>drawbacks</strong> of generative methods.</p> <hr/> <ul> <li>Among <strong>discriminative</strong> methods, <strong>contrastive methods</strong> currently achieves state-of-the-art performance in self-supervised learning.</li> <li><strong>Contrastive methods often</strong> require comparing each example with many other examples to work well, <strong>prompting the question of whether using negative pairs is necessary</strong>.</li> </ul> <hr/> <p><strong>Contrastive methods</strong> belongs to <strong>discriminative methods</strong>, and are best, while <strong>prompting the question of negative pairs</strong>.</p> <hr/> <ul> <li><strong>DeepCluster partially answers this question</strong>.</li> <li>While <strong>avoiding the use of negative pairs</strong>, this requires <strong>a costly clustering phase and specific precautions to avoid collapsing to trivial solutions</strong>.</li> </ul> <hr/> <p>Might <strong>not necessary</strong> for the use of <strong>negative pairs</strong> if under suitable settings.</p> <hr/> <ul> <li>Some self-supervised methods are <strong>not contrastive but rely on using auxiliary handcrafted prediction tasks</strong> to learn their representation.</li> <li>Yet, even with suitable architectures, these methods are being <strong>outperformed by contrastive methods</strong>.</li> </ul> <hr/> <p>Some other methods might <strong>better</strong> than contrastive methods.</p> <hr/> <ul> <li>Our approach <strong>has some similarities</strong> with <em>Predictions of Bootstrapped Latents</em> (PBL).</li> <li>PBL <strong>jointly trains the agentâ€™s history representation</strong> and <strong>an encoding of future observations</strong>.</li> <li><strong>Unlike PBL</strong>, <strong>BYOL uses a slow-moving average of its representation to provide its targets, and does not require a second network.</strong></li> </ul> <hr/> <p>BYOL stems from PBL but unlike PBL.</p> <hr/> <ul> <li>The <strong>idea of using a slow-moving average target network to produce stable targets</strong> for the online network was inspired by deep RL.</li> <li> <p>Target networks stabilize the bootstrapping updates provided by the Bellman equation, <strong>making them appealing to stabilise the bootstrap mechanism in BYOL</strong>.</p> </li> <li>While <strong>most RL methods use fixed target networks</strong>, BYOL uses <strong>a weighted moving average of previous networks in order to provide smoother changes in the target representation</strong>.</li> </ul> <hr/> <p>The origin of the moving weights.</p> <hr/> <ul> <li>In the semi-supervised â€¦. Among these methods, mean teacher also uses a slow-moving average network, called teacher, to produce targets for an online network, called student.</li> <li><strong>In contrast, BYOL introduces an additional predictor on top of the online network, which prevents collapse.</strong></li> </ul> <hr/> <p>The use of predictor.</p> <hr/> <ul> <li>Finally, in self-supervised learning, MoCo uses a slow-moving average network (momentum encoder) to maintain consistent representations of negative pairs drawn from a memory bank.</li> <li>Instead, <strong>BYOL uses a moving average network to produce prediction targets</strong> as a means of stabilizing the bootstrap step.</li> </ul> <h4 id="method">Method</h4> <ul> <li>Many such approaches <strong>cast the prediction problem directly in representation space</strong>: the <strong>representation of an augmented view of an image</strong> should be <strong>predictive of the representaion of another augmented view of the same image</strong>.</li> <li>However, <strong>predicting directly in represntation space</strong> can lead to <strong>collapsed representations</strong>.</li> <li>Contrastive methods circumvent this problem by reformulating the prediction problem into one of discrimination. â€¦ and the <strong>representations of augmented views of different images</strong>.</li> <li>In this work, we thus <strong>tasked ourselves to find out whether these negative examples are indispensable to prevent collapsing while preserving high performance.</strong></li> </ul> <hr/> <p>cross-view èƒ½ï¼šå›¾åƒçš„å¢å¼ºè§†å›¾çš„è¡¨å¾èƒ½é¢„æµ‹åŒä¸€å›¾çš„å¦ä¸€ä¸ªå¢å¼ºçš„è¡¨å¾ï¼Œä½†æ˜¯ä»£ä»·æ˜¯æ€»èƒ½é¢„æµ‹è‡ªå·±æ¥å¯¼è‡´ trivial solutionsï¼ˆåå¡Œï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬çš„æ–¹æ³•æ¥éªŒè¯èƒ½å¦ä¿æŒé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œè´Ÿæ ·æœ¬çš„å­˜åœ¨æ˜¯å¦å¿…é¡»ã€‚</p> <hr/> <ul> <li>To <strong>prevent collapse, a straightforward solution is to use a fixed randomly initialized network</strong> to poduce the <strong>targets</strong> for our predictions.</li> <li>While avoidng collapse, it <strong>empircally does not result in very good representations</strong>.</li> <li>It is interesting to note that the <strong>representation obtained using this procedure</strong> can already be <strong>much better than the initial fixed represntation</strong>.</li> <li>This experimental finding is the <strong>core motivation</strong> for BYOL: <strong>from a given representation, referred to as target, we can train a new, potentially enhanced representation, referred to as online, by predicting the target representation.</strong></li> <li>We can expect to <strong>build a sequence of representations of increasing quality by iterating this procedure</strong>, <strong>using subsequent online networks as new target networks for further training.</strong></li> <li>In practice, BYOL <strong>generalizes this bootstrapping procedure</strong> by <strong>iteratively refining its representation</strong>, but <strong>using a slowly moving exponential average of the online network</strong> as the target network <strong>instead of fixed checkpoints</strong>.</li> </ul> <hr/> <p>ç»éªŒè§‰å¾— fixed ä¸è¡Œï¼Œä½†æ˜¯å·²ç»æ•ˆæœä¸é”™äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åŸºäºæ­¤è®¾è®¡äº†æ–°çš„ã€‚ä»ä¸€ä¸ªç»™å®šçš„è¡¨å¾ï¼ˆtargetï¼‰è®­ç»ƒä¸€ä¸ªæ–°çš„åŠ å¼ºçš„è¡¨å¾ï¼ˆonlineï¼‰æ¥é¢„æµ‹ target çš„è¡¨å¾ã€‚</p> <hr/> <h5 id="description-of-byol">Description of BYOL</h5> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/7aUmfsC.png" alt="image-20230919201623320" class="img-fluid rounded z-depth-1" data-zoomable=""/> </div> </div> <div class="caption"> Figure 1. BYOL's architectures </div> <ul> <li> <p>BYOLâ€™s <strong>goal</strong> is to <strong>learn a representation</strong> \(y_\theta\) <strong>which can then be used for downstream tasks</strong>. ==&gt; <strong>representation</strong>.</p> </li> <li> <p>BYOL uses <strong>two neural networks</strong> to learn: the <strong>online</strong> and <strong>target networks</strong>.</p> </li> <li> <p>The <strong>online network is defined by a set of weights</strong> \(\theta\) and is comprised of <strong>three stages</strong>: an <em>encoder</em> \(f_\theta\), a projector \(g_\theta\) and a predictor \(q_\theta\)â€‹.</p> </li> <li> <p>The <strong>target network has the same architecture as the online network</strong>, but <strong>uses a different set of weights</strong> \(\xi\).</p> </li> <li> <p>The <strong>target</strong> network provides the <strong>regression targets to train the online network</strong>, and its parameters \(\xi\) are an <strong>exponential moving average</strong> of the <strong>online</strong> parameters \(\theta\).</p> </li> <li> <p>Given a <strong>target decay rate</strong> \(\tau\in [0, 1]\)â€‹, after each training step we perform the following update,</p> \[\xi \leftarrow \tau\xi + (1-\tau)\theta.\] </li> </ul> <hr/> <p>Online: encoder \(encoder(f_\theta) + prejector(g_\theta) + predictor(q_\theta)\), target has the same architecture but with different parameters comes from the above mentioned equation based on online.</p> <hr/> <ul> <li> <p>Given <strong>a set of images</strong> \(D\), an <strong>image</strong> \(x\sim D\) sampled uniformly from \(D\), and <strong>two distributions of image augmentations</strong> \(\mathcal{T}\) and \(\mathcal{T'}\), BYOL <strong>produces two augmented views</strong> \(v \triangleq t(x)\) and \(v'\triangleq t'(x)\) from \(x\) by <strong>applying respectively image augmentations</strong> \(t \sim \mathcal{T}\) and \(t' \sim \mathcal{T'}\). ==&gt; ä»ä¸¤ä¸ªç›¸åŒæµç¨‹çš„å¢å¼ºç­–ç•¥ä¸Šéšæœºé€‰ä¸¤å¥—ï¼Œå› ä¸ºå‚æ•°å¤§æ¦‚ç‡ä¸åŒï¼Œæ‰€ä»¥ä¸¤å¥—æµç¨‹çš„å‚æ•°ä¸åŒï¼Œæ‰€ä»¥æ˜¯ä¸¤ä¸ªä¸åŒçš„ viewã€‚</p> </li> <li> <p>From the <strong>first augmented view</strong> \(v\), the <strong>online network outputs</strong> a <em>representation</em> \(y_\theta \triangleq f_\theta(v)\) and a <strong>projection</strong> \(z_\theta\triangleq g_\theta(y)\).</p> </li> <li> <p>The <strong>target</strong> network outputs \(y'_\xi \triangleq f_\xi(v')\) and the <em>target projection</em> \(z'_\xi \triangleq g_\xi(y')\) from the <strong>second augmented view</strong> \(v'\)â€‹.</p> </li> <li> <p>We then output a <strong>prediction</strong> \(q_\theta(z_\theta)\) of \(z'_\xi\) and \(l_2\)-normalize both \(q_\theta(z_\theta)\) and \(z'_\xi\)â€‹ to</p> \[\overline{q_\theta}(z_\theta) \triangleq q_\theta(z_\theta)/\vert\vert q_\theta(z_\theta)\vert\vert_2\] <p>and</p> \[\overline{z'_\xi}/\vert\vert z'_\xi\vert\vert_2^2.\] </li> <li> <p>Note that this <strong>predictor is only applied to the online branch</strong>, making the <strong>architecture asymmetric between the online and target pipeline</strong>.</p> </li> <li> <p>Finally we dine the following mean squared error between the normalized predictions and target projections,</p> \[\mathcal{L}_{\theta, \xi} \triangleq \vert\vert{\overline{q_\theta}(z_\theta) - \overline{z'}_\xi}\vert\vert_2^2 = 2 - 2\cdot \frac{&lt;q_\theta(z_\theta), z'_\xi&gt;}{\vert\vert q_\theta(z_\theta)\vert\vert_2 \cdot \vert\vert z'_\xi\vert\vert_2}.\] </li> <li> <p>We <strong>symmetrize the loss above</strong> by separaetely feeding \(v'\) to the online network and \(v\) to the target network to compute the other one. ==&gt; å¯¹ç§°çš„æ¢ä¸€ä¸‹ä¸¤ä¸ªç½‘ç»œçš„ viewï¼Œç„¶åå°†ä¸¤ä¸ªç›¸åŠ å½¢æˆæœ€ç»ˆçš„ lossã€‚</p> </li> <li> <p>At <strong>each training step</strong>, we perform a stochastic optimization step to minimize</p> \[\mathcal{L}_{\theta, \xi}^{\text{BYOL}} = \mathcal{L}_{\theta, \xi} + \widetilde{\mathcal{L}}_{\theta, \xi}\] <p>with respect to \(\theta\) only, but not \(\xi\).</p> \[\theta \leftarrow \text{optimizer}(\theta, \nabla_\theta\mathcal{L}_{\theta, \xi}^{\text{BYOL}}, \eta),\\ \xi \leftarrow \tau\xi + (1-\tau)\theta\] <p>where optimizer is an optimzer and \(\eta\)â€‹ is a learning rate.</p> </li> <li> <p>At the end of training, we <strong>only keep the encoder</strong> $f_{\theta}$.</p> </li> </ul> <h5 id="implementation-details">Implementation details</h5> <ul> <li>Image augmentations: <ul> <li>BYOL uses the same set of image augmentations as in SimCLR.</li> <li>First a <strong>random patch of the image</strong> is selected and <strong>resized</strong> to \(224\times 224\)â€‹ with a random <strong>horizontal</strong> flip, followed by a <strong>color distrotion</strong>, consisting of a <strong>random sequence of brightness, contrast, saturation, hue adjustments, and an optional grayscale conversion</strong>. Finally, <strong>Gaussian blur</strong> and <strong>solarization</strong> are applied to the <strong>patches</strong>.</li> </ul> </li> <li><strong>Architecture</strong> <ul> <li><strong>ResNet</strong>-50 as our base parametric <strong>encoders</strong> \(f_\theta\) and \(f_\xi\)</li> <li>The <strong>representation</strong> $y$ <strong>corresopnds to the output of the final average pooling layer</strong>, which has a feature dimension of \(2048\).</li> <li>Contrary to SimCLR, the <strong>output</strong> of this MLP is <strong>not batch normalized</strong>. The <strong>predictor</strong> \(q_\theta\) uses the <strong>same</strong> <strong>architecture</strong> as \(g_\theta\)â€‹.</li> </ul> </li> <li><strong>Optimization</strong> <ul> <li><strong>LARS</strong> <strong>optimizer</strong> with a <strong>cosine decay learning rate schedule</strong>, <strong>without restarts</strong>, over 1000 epochs, with a <strong>warm-up period of 10 epochs</strong>.</li> <li>the <strong>base learning rate</strong> to \(0.2\), scaled linearly with the batch size (Learning rate = \(0.2 \times \text{BatchSize}/256\))</li> <li>A global weight decay parameter of \(1.5\cdot 10^{-6}\) while excluding the biases and batch normalization parameters from both LARS adaptation and weight decay.</li> <li>A <strong>batch size of 4096</strong></li> </ul> </li> </ul>]]></content><author><name></name></author><category term="study"/><category term="ucph"/><category term="ssl"/><summary type="html"><![CDATA[Review of the paper BYOL and to extract the main points]]></summary></entry><entry><title type="html">Cookbook Reading - 1</title><link href="https://liuying-1.github.io/blog/2024/cookbook-1/" rel="alternate" type="text/html" title="Cookbook Reading - 1"/><published>2024-01-30T08:00:00+00:00</published><updated>2024-01-30T08:00:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/cookbook-1</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/cookbook-1/"><![CDATA[<p>All the following text are stemmed from the source book, please refer to the original copy - <em><a href="https://arxiv.org/pdf/2304.12210.pdf">A Cookbook of Self-Supervised Learning</a></em>. Additionally, there will be a large amount of Chinese translations on it since it will be used for me to recall something, sorry in advance.</p> <h4 id="what-is-self-supervised-learning-and-why-bother">What is Self-Supervised Learning and Why Bother?</h4> <p>è‡ªç›‘ç£å­¦ä¹ ï¼Œä¹Ÿè¢«ç§°ä¸º the dark matter of intelligenceã€‚<u>å®ƒæ˜¯ä¸€ä¸ªæå‡æœºå™¨å­¦ä¹ çš„åº·åº„å¤§é“ã€‚</u>ä¸ç›‘ç£å­¦ä¹ ä¸ä¸€æ ·ï¼Œç›‘ç£å­¦ä¹ å—åˆ¶äºæœ‰æ ‡ç­¾æ•°æ®çš„æ•°é‡ï¼Œè€Œ<u>è‡ªç›‘ç£å­¦ä¹ æ–¹æ³•èƒ½å¤Ÿä»å¤§é‡æ²¡æœ‰æ ‡ç­¾çš„æ•°æ®é‡Œé¢è¿›è¡Œå­¦ä¹ </u>ã€‚è‡ªç›‘ç£å­¦ä¹ æ˜¯æ·±åº¦å­¦ä¹ åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸå–å¾—æˆåŠŸçš„åŸºç¡€ï¼Œå®ƒæ¨åŠ¨äº†ä»è‡ªåŠ¨æœºå™¨ç¿»è¯‘åˆ°åœ¨æ— æ ‡è®°æ–‡æœ¬çš„ç½‘ç»œè§„æ¨¡è¯­æ–™åº“ä¸Šè®­ç»ƒçš„å¤§å‹è¯­è¨€æ¨¡å‹çš„å‘å±•ã€‚åœ¨è®¡ç®—æœºè§†è§‰é‡Œé¢ï¼ŒSSLé€šè¿‡åœ¨10äº¿å¼ å›¾åƒä¸Šè®­ç»ƒçš„SEERç­‰æ¨¡å‹ï¼Œå°†<u>æ•°æ®è§„æ¨¡æ¨å‘äº†æ–°çš„æé™</u>ã€‚ä¸€äº›é’ˆå¯¹è®¡ç®—æœºæ•°æ®çš„SSLæ–¹æ³•ï¼Œå³ä½¿åœ¨ä¸€äº›ç«äº‰ç›¸å¯¹æ¿€çƒˆçš„Benchmarksä¸Šï¼ˆe.g., ImageNetï¼‰<u>å·²ç»èƒ½å¤Ÿå’Œä¸€äº›åœ¨æœ‰æ•°æ®æ ‡ç­¾çš„è®­ç»ƒçš„ç›‘ç£å­¦ä¹ ä¸Šå¾—åˆ°çš„æ¨¡å‹ç›¸åª²ç¾ç”šè‡³æ›´å¥½</u>ã€‚SSLä¹Ÿå·²ç»è¢«æˆåŠŸè¿ç”¨åœ¨<u>å„ä¸ªæ¨¡æ€æ•°æ®</u>ä¸Šï¼Œæ¯”å¦‚è§†é¢‘ï¼ŒéŸ³é¢‘ï¼Œå’Œä¸€äº›æ—¶é—´åºåˆ—ã€‚</p> <p>è‡ªç›‘ç£å­¦ä¹ æ ¹æ®ä½æ ‡ç­¾çš„è¾“å…¥<u>å®šä¹‰äº†ä¸€ä¸ªè¾…åŠ©ä»»åŠ¡æ¥äº§å‡ºdescriptive and intelligibleçš„ç‰¹å¾</u>ã€‚åœ¨è‡ªç„¶è¯­è¨€ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„SSLçš„ç›®æ ‡å°±æ˜¯å»é®ä½ï¼ˆmaskï¼‰ä¸€ä¸ªæ–‡æœ¬ä¸­çš„å•è¯ï¼Œç„¶åé¢„æµ‹å‘¨å›´çš„å•è¯ã€‚è¿™ç§é¢„æµ‹ä¸€ä¸ªè¯å‘¨å›´çš„ä¸Šä¸‹æ–‡çš„ç›®æ ‡é¼“åŠ±äº†æ¨¡å‹ä¸ä¾èµ–ä»»ä½•æ ‡ç­¾ä¹Ÿèƒ½å»æ•æ‰æ–‡æœ¬ä¸­è¯æ±‡ä¸­çš„å…³ç³»ã€‚åŒæ ·çš„ç»è¿‡SSLæ¨¡å‹å­¦åˆ°çš„è¡¨å¾ä¹Ÿèƒ½è¢«ç”¨ä½œä¸€ç³»åˆ—ä¸‹æ¸¸ä»»åŠ¡ä¸Šï¼Œæ¯”å¦‚ä¸åŒè¯­è¨€é—´çš„æ–‡æœ¬ç¿»è¯‘ï¼Œæ€»ç»“ï¼Œç”šè‡³äº§ç”Ÿæ–‡æœ¬ï¼Œå½“ç„¶ä¹Ÿè¿˜æœ‰ä¸€äº›åˆ«çš„ã€‚åœ¨CVä¸­ï¼Œ<strong>MAE</strong>æˆ–<strong>BYOL</strong>è¿™äº›æ–¹æ³•ä¹Ÿå­˜åœ¨ç›¸ä¼¼çš„ç›®æ ‡ï¼Œé€šè¿‡å­¦ä¹ æ¥é¢„æµ‹ä¸€ä¸ªå›¾åƒè¢«é®ä½çš„patchæˆ–è€…å…¶è¡¨å¾ã€‚ä¹Ÿæœ‰åˆ«çš„SSLç›®æ ‡ï¼Œé€šè¿‡æ·»åŠ é¢œè‰²æˆ–è€…è£å‰ªå›¾ç‰‡æ¥å½¢æˆåŒä¸€ä¸ªå›¾ç‰‡çš„ä¸¤ä¸ªä¸åŒè§†è§’ï¼Œç„¶åé¼“åŠ±æ¨¡å‹èƒ½å­¦åˆ°æ˜ å°„åˆ°ç›¸ä¼¼è¡¨å¾çš„èƒ½åŠ›ã€‚</p> <p>æœ‰äº†èƒ½åŠ›æ¥åœ¨å¤§é‡çš„æœªæ ‡ç­¾æ•°æ®ä¸Šè¿›è¡Œè®­ç»ƒï¼Œå¸¦æ¥äº†å¾ˆå¤šå¥½å¤„ã€‚ä¼ ç»Ÿçš„ç›‘ç£å­¦ä¹ æ–¹æ³•é€šå¸¸æ˜¯æ ¹æ®ç°æœ‰çš„æœ‰æ ‡ç­¾æ•°æ®å¯¹å·²çŸ¥çš„ç‰¹å®šä»»åŠ¡è¿›è¡Œè®­ç»ƒï¼ˆå…ˆéªŒçš„ï¼‰ï¼Œè€Œ <u>SSL åˆ™æ˜¯å­¦ä¹ å¯¹è®¸å¤šä»»åŠ¡éƒ½æœ‰ç”¨çš„é€šç”¨è¡¨å¾</u>ã€‚<u>SSL åœ¨åŒ»å­¦ç­‰é¢†åŸŸå°¤å…¶æœ‰ç”¨</u>ï¼Œå› ä¸ºåœ¨è¿™äº›é¢†åŸŸä¸­ï¼Œæ ‡ç­¾çš„æˆæœ¬å¾ˆé«˜ï¼Œæˆ–è€…æ— æ³•äº‹å…ˆçŸ¥é“å…·ä½“çš„ä»»åŠ¡ã€‚è¿˜æœ‰è¯æ®è¡¨æ˜ï¼ŒSSL æ¨¡å‹å¯ä»¥å­¦ä¹ åˆ°å¯¹å¯¹æŠ—æ€§ç¤ºä¾‹ï¼ˆ<u>adversarial examples</u>ï¼‰ã€æ ‡ç­¾æŸåï¼ˆ<u>label corruption</u>ï¼‰å’Œè¾“å…¥æ‰°åŠ¨ï¼ˆ<u>input perturbations</u>ï¼‰æ›´ç¨³å¥ï¼ˆ<u>robust</u>ï¼‰çš„è¡¨å¾ï¼Œè€Œä¸”ä¸æœ‰ç›‘ç£çš„æ¨¡å‹ç›¸æ¯”æ›´å…¬å¹³ã€‚å› æ­¤ï¼ŒSSLæ˜¯ä¸€ä¸ªè¶Šæ¥è¶Šå—å…³æ³¨çš„é¢†åŸŸã€‚ç„¶è€Œï¼Œå’Œåšé¥­å¾ˆåƒï¼Œè®­ç»ƒSSLæ–¹æ³•æ˜¯ä¸€ä¸ªé—¨æ§›å¾ˆé«˜çš„å¾®å¦™è‰ºæœ¯ã€‚</p> <h5 id="why-a-cookbook-for-self-supervised-learning">Why a Cookbook for Self-Supervised Learning?</h5> <p>è™½ç„¶ SSL çš„è®¸å¤šç»„æˆéƒ¨åˆ†éƒ½ä¸ºç ”ç©¶äººå‘˜æ‰€ç†Ÿæ‚‰ï¼Œä½†è¦æˆåŠŸè®­ç»ƒ SSL æ–¹æ³•ï¼Œå´éœ€è¦ä»<u>å€Ÿå£ä»»åŠ¡åˆ°è®­ç»ƒè¶…å‚æ•°</u>ç­‰ä¸€ç³»åˆ—ä»¤äººçœ¼èŠ±ç¼­ä¹±çš„é€‰æ‹©ã€‚SSLç ”ç©¶æœ‰ä¸€ä¸ªé«˜çš„é—¨æ§›ï¼Œä¸€æ˜¯å› ä¸º<u>è®¡ç®—æˆæœ¬</u>ï¼ŒäºŒæ˜¯<u>æ²¡æœ‰å®Œå…¨é€æ˜çš„è®ºæ–‡</u>è¯¦ç»†è®²è¿°å…¶ä¸­èƒ½å¤Ÿå……åˆ†å‘æŒ¥SSLçš„æ½œèƒ½çš„å¤æ‚çš„å®ç°æ–¹æ³•ï¼Œä¸‰æ˜¯<u>ç¼ºä¹SSLç»Ÿä¸€çš„è¯æ±‡å’Œç†è®ºè§‚ç‚¹</u>ã€‚å› ä¸ºSSLä»ä¼ ç»Ÿçš„reconstruction-basedæ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼ˆe.g.ï¼Œdenoising variational autoencodersï¼‰å»ºç«‹äº†ä¸€å¥—ç‹¬ç‰¹çš„èŒƒå¼ï¼Œæˆ‘ä»¬åœ¨ç»Ÿä¸€è§†è§’ä¸‹ç†è§£ SSL çš„è¯æ±‡æ˜¯æœ‰é™çš„ã€‚äº‹å®ä¸Šï¼Œåœ¨ä¸€ä¸ªå•ä¸€è§†è§’ä¸‹ç»Ÿä¸€SSLæ–¹æ³•åœ¨2021ä¹Ÿä»…ä»…æ‰å¼€å§‹å‡ºç°ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªå…±åŒçš„åŸºç¡€æ¥æè¿° SSL æ–¹æ³•çš„ä¸åŒç»„æˆéƒ¨åˆ†ï¼Œç ”ç©¶äººå‘˜åœ¨å¼€å§‹ç ”ç©¶ SSL æ–¹æ³•æ—¶å°±ä¼šé¢ä¸´æ›´å¤§çš„æŒ‘æˆ˜ã€‚åŒæ—¶ï¼ŒSSLç ”ç©¶ä¹Ÿæ€¥éœ€æ–°çš„ç ”ç©¶äººå‘˜ï¼Œå› ä¸ºSSLç°åœ¨å·²ç»éå¸ƒæˆ‘ä»¬çš„ç”Ÿæ´»äº†ã€‚ç„¶è€Œï¼Œå…³äº SSL çš„<u>é€šç”¨æ€§ä¿è¯ã€å…¬å¹³æ€§å±æ€§ä»¥åŠå¯¹å¯¹æŠ—æ€§æ”»å‡»</u>ç”šè‡³<u>è‡ªç„¶å‘ç”Ÿçš„å˜å¼‚</u>çš„é²æ£’æ€§ï¼Œä»æœ‰è®¸å¤šæœªè§£å†³çš„ç ”ç©¶é—®é¢˜ã€‚è¿™ç±»é—®é¢˜å¯¹äºSSLæ–¹æ³•çš„ä¾èµ–ç¨‹åº¦ä¹Ÿå¾ˆå…³é”®ã€‚</p> <p>æ­¤å¤–ï¼ŒSSL æ˜¯ç”±<u>ç»éªŒé©±åŠ¨</u>çš„ï¼Œå®ƒæœ‰è®¸å¤šæ´»åŠ¨éƒ¨ä»¶ï¼ˆä¸»è¦æ˜¯<u>è¶…å‚æ•°</u>ï¼‰ï¼Œè¿™äº›éƒ¨ä»¶å¯èƒ½ä¼šå½±å“æœ€ç»ˆè¡¨å¾çš„å…³é”®å±æ€§ï¼Œè€Œä¸”åœ¨å·²å‘è¡¨çš„ä½œå“ä¸­<u>ä¸ä¸€å®šæœ‰è¯¦ç»†è¯´æ˜</u>ã€‚å³ï¼Œä¸ºäº†å¼€å§‹ç ”ç©¶SSLæ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡»<u>é¦–å…ˆå¯¹è¿™äº›æ–¹æ³•è¿›è¡Œè¯¦å°½çš„å®è¯ç ”ç©¶</u>ï¼Œæ‰èƒ½å……åˆ†æŒæ¡<u>æ‰€æœ‰è¿™äº›æ´»åŠ¨éƒ¨ä»¶çš„å½±å“å’Œè¡Œä¸º</u>ã€‚è¿™ç§ç»éªŒç›²ç‚¹éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºå’Œå·²æœ‰çš„å®è·µç»éªŒï¼Œå› æ­¤å…·æœ‰å¾ˆå¼ºçš„å±€é™æ€§ã€‚æ€»ä¹‹ï¼ŒSOTA çš„æ€§èƒ½æ¥è‡ªçœ‹ä¼¼ä¸åŒä½†åˆç›¸äº’é‡å çš„æ–¹æ³•ï¼Œç°æœ‰çš„ç†è®ºç ”ç©¶å¾ˆå°‘ï¼Œè€Œå®é™…åº”ç”¨å´å¾ˆå¹¿æ³›ï¼Œå› æ­¤éœ€è¦ä¸€æœ¬ç»Ÿä¸€æŠ€æœ¯åŠå…¶â€œé…æ–¹â€çš„æŒ‡å—ï¼Œè¿™å¯¹é™ä½ SSL çš„ç ”ç©¶é—¨æ§›è‡³å…³é‡è¦ã€‚</p> <p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸ºäº†é™ä½ä»äº‹SSLç ”ç©¶çš„é—¨æ§›ï¼Œé€šè¿‡é“ºè®¾åŸºç¡€å’Œä¸€äº›ç›¸å¯¹è¾ƒæ–°çš„SSLæ–¹æ³•ï¼Œä»¥ä¸€ç§cookbookçš„é£æ ¼æ¥å‘ˆç°ã€‚ä¸ºäº†â€œçƒ¹é¥ªâ€æˆåŠŸï¼Œä½ å¿…é¡»é¦–å…ˆå­¦ä¹ åŸºæœ¬æŠ€æœ¯ï¼šåˆ‡èœï¼Œç‚’èœç­‰ã€‚åœ¨ç¬¬ 2 èŠ‚ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆ<u>ä½¿ç”¨é€šç”¨è¯æ±‡ä»‹ç»è‡ªç›‘ç£å­¦ä¹ çš„åŸºæœ¬æŠ€æœ¯</u>ã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬å°†ä»ç»Ÿä¸€çš„è§†è§’æ¥<u>æè¿°è¿™äº›æ–¹æ³•ç³»åˆ—ä»¥åŠå°†å®ƒä»¬çš„ç›®æ ‡è”ç³»èµ·æ¥çš„ç†è®ºä¸»çº¿</u>ã€‚æˆ‘ä»¬åœ¨æ¦‚å¿µæ¡†ä¸­çªå‡ºäº†æŸå¤±é¡¹æˆ–è®­ç»ƒç›®æ ‡ç­‰å…³é”®æ¦‚å¿µã€‚ç„¶åï¼Œä¸€ä¸ªå¨å¸ˆå¿…é¡»å­¦ä¼šè¿ç”¨æŠ€æœ¯å»åšæˆä¸€é“ç¾å‘³çš„èœï¼Œè¿™ä¹Ÿå°±éœ€è¦å­¦ä¹ ç°æœ‰çš„èœè°±ï¼Œç»„åˆé£Ÿæï¼Œè¿˜æœ‰å“å‘³èœå“ã€‚åœ¨ç¬¬ä¸‰èŠ‚ä¸­ï¼Œæˆ‘ä»¬<u>ä»‹ç»äº†å®é™…æˆåŠŸå®ç°SSLæ–¹æ³•ä¸­ï¼Œéœ€è¦è€ƒè™‘çš„ç‚¹ã€‚æˆ‘ä»¬è®¨è®ºäº†é€šå¸¸çš„è®­ç»ƒèœè°±ï¼ŒåŒ…æ‹¬è¶…å‚æ•°çš„é€‰æ‹©ï¼Œå¦‚ä½•ç»„åˆä¸åŒç»„ä»¶ï¼ˆæ¯”å¦‚ç»“æ„å’Œä¼˜åŒ–å™¨ï¼‰ï¼Œè¿˜æœ‰å¦‚ä½•è¯„ä»·SSLæ–¹æ³•ã€‚æˆ‘ä»¬è¿˜å°†åˆ†äº«é¡¶å°–ç ”ç©¶äººå‘˜å°±å¸¸è§åŸ¹è®­é…ç½®å’Œé™·é˜±æå‡ºçš„å®ç”¨å»ºè®®</u>ã€‚æˆ‘ä»¬å¸Œæœ›è¿™æœ¬æ‰‹å†Œèƒ½æˆä¸ºæˆåŠŸè®­ç»ƒå’Œæ¢ç´¢è‡ªç›‘ç£å­¦ä¹ çš„å®ç”¨åŸºç¡€ã€‚</p> <h4 id="the-families-and-origins-of-ssl">The families and origins of SSL</h4> <p>ç”±äº<u>å¤§è§„æ¨¡çš„ç‰¹åˆ«å¤§çš„æ•°æ®é›†å’Œé«˜å†…å­˜çš„GPUçš„å¯è·å¾—æ€§</u>ï¼Œè‡ª2020å¹´ä»¥æ¥ï¼ŒSSLæ–¹æ³•å°±å¼€å§‹å¤å…´äº†ã€‚ä½†æ˜¯SSLçš„èµ·æºå¯ä»¥<u>è¿½æº¯åˆ°æ·±åº¦å­¦ä¹ å¹´ä»£çš„æœ€å¼€å§‹</u>ã€‚</p> <h5 id="origins-of-ssl">Origins of SSL</h5> <p>å½“ä»Šçš„æ–¹æ³•éƒ½å»ºç«‹äºæˆ‘ä»¬ä»<u>æ—©æœŸå®éªŒ</u>ä¸­è·å¾—åˆ°çš„çŸ¥è¯†ã€‚åœ¨è¿™ä¸€ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»™äº†ä¸€ä¸ªåœ¨2020å¹´ä»¥å‰å…³äºSSLç‚¹å­çš„ç®€è¿°ã€‚è™½ç„¶è®¸å¤šå…·ä½“æ–¹æ³•å·²ç»ä¸å†è¢«ä¸»æµä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬ä¸å†èƒ½åœ¨åŸºå‡†é—®é¢˜ä¸Šæä¾›æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šå¯¹å®ƒä»¬è¿›è¡Œè¯¦ç»†è®¨è®ºï¼Œä½†è¿™äº›è®ºæ–‡ä¸­çš„è§‚ç‚¹æ„æˆäº†è®¸å¤šç°ä»£æ–¹æ³•çš„åŸºç¡€ã€‚æ¯”å¦‚ï¼Œrestoring missing or distorted parts of an input or contrasting two views of the same imageçš„æ ¸å¿ƒç›®æ ‡å½¢æˆäº†ç°ä»£SSLæ–¹æ³•çš„åŸºç¡€ã€‚SSL <u>æ—©æœŸçš„è¿›å±•ä¸»è¦é›†ä¸­åœ¨ä»¥ä¸‹å‡ ç±»</u>ï¼ˆæœ‰æ—¶ç›¸äº’é‡å ï¼‰æ–¹æ³•çš„å¼€å‘ä¸Šï¼š</p> <ol> <li> <p><strong>Information restoration</strong>: å¤§é‡çš„æ–¹æ³•è¢«å¼€å‘æ¥<u>é®ä½æˆ–è€…ç§»é™¤ä¸€ä¸ªå›¾ç‰‡ä¸­çš„ä¸€äº›ä¸œè¥¿</u>ï¼Œç„¶å<u>è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥æ¢å¤ç¼ºå¤±éƒ¨åˆ†çš„ä¿¡æ¯</u>ã€‚åŸºäºä¸Šè‰²çš„SSLæ–¹æ³•ï¼ˆ<u>Colorization-based</u>ï¼‰SSL methodsæŠŠä¸€ä¸ªå›¾ç‰‡<u>è½¬æ¢æˆç°åº¦å›¾</u>ï¼Œç„¶åè®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥<u>é¢„æµ‹åŸæœ¬çš„RGBå€¼</u>ã€‚ç”±äºç€è‰²éœ€è¦äº†è§£å¯¹è±¡çš„è¯­ä¹‰å’Œè¾¹ç•Œï¼Œå› æ­¤<u>ç€è‰²è¢«è¯æ˜æ˜¯æ—©æœŸçš„å¯¹è±¡åˆ†å‰² SSL æ–¹æ³•</u>ã€‚è¿™ç§ä¿¡æ¯æ¢å¤æœ€ç›´è§‚ç®€å•çš„åº”ç”¨æ˜¯é®ä½å³<u>æŒªå»å›¾åƒçš„ä¸€éƒ¨åˆ†ï¼Œç„¶åè®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥ç»™ç¼ºå¤±çš„åƒç´ ç€è‰²</u>ã€‚è¿™ä¸ªç‚¹å­è¿›åŒ–æˆäº†Masked auto-encoding methodsï¼Œå…¶ä¸­ï¼Œ<u>æ©è”½åŒºåŸŸæ˜¯å›¾åƒpatchesçš„ç»“åˆä½“ï¼ˆunionï¼‰ï¼Œå¯ä»¥ä½¿ç”¨transfomerè¿›è¡Œé¢„æµ‹</u>ã€‚</p> </li> <li> <p><strong>Using temporal relationships in video</strong>: å°½ç®¡è¿™ä¸ªå›é¡¾çš„ç„¦ç‚¹æ˜¯åœ¨å›¾åƒï¼ˆè€Œéè§†é¢‘ï¼‰å¤„ç†ä¸Šï¼Œä¸€ç³»åˆ—ä¸“é—¨æ–¹æ³•å·²ç»è¢«å¼€å‘å‡ºæ¥ï¼Œé€šè¿‡å¯¹<u>è§†é¢‘è¿›è¡Œé¢„è®­ç»ƒæ¥å­¦ä¹ å•å›¾åƒè¡¨å¾ï¼ˆsingle-image representationsï¼‰</u>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<u>ä¿¡æ¯è¿˜åŸï¼ˆinformation restorationï¼‰æ–¹æ³•å¯¹è§†é¢‘ç‰¹åˆ«æœ‰ç”¨</u>ï¼Œå› ä¸ºè§†é¢‘åŒ…å«å¤šç§å¯èƒ½è¢«å±è”½çš„ä¿¡æ¯æ¨¡å¼ã€‚Wang and Gupta ä½¿ç”¨<u>ä¸‰é‡æŸå¤±ï¼ˆtriplet lossï¼‰å¯¹æ¨¡å‹è¿›è¡Œé¢„è®­ç»ƒ</u>ï¼Œä»¥<u>æé«˜ä¸¤ä¸ªä¸åŒå¸§ä¸­åŒä¸€ä¸ªç‰©ä½“è¡¨å¾çš„ç›¸ä¼¼æ€§</u>ã€‚æœ€ç»ˆçš„ç»“æœæ¨¡å‹åœ¨ç‰©ä½“æ£€æµ‹ä¸Šè¡¨ç°ä¸é”™ã€‚Pathak et al. è®­ç»ƒäº†ä¸€ä¸ªæ¨¡å‹æ¥<u>é¢„æµ‹ç‰©ä½“åœ¨å•ä¸€å¸§ä¸­çš„è¿åŠ¨</u>ï¼Œè°ƒæ•´ç”±æ­¤äº§ç”Ÿçš„featuresæ¥è§£å†³å•ä¸€å¸§ï¼ˆsingle-frameï¼‰æ£€æµ‹é—®é¢˜ã€‚Agrawal et al. <u>é¢„æµ‹å¤šå¸§å›¾åƒä¸­æ‘„åƒæœºçš„è‡ªæˆ‘è¿åŠ¨</u>ï¼ˆego-motionï¼‰è½¨è¿¹ã€‚Owens et al. æå‡º<u>ä»è§†é¢‘ä¸­å»æ‰éŸ³è½¨ï¼Œç„¶åé¢„æµ‹ç¼ºå¤±çš„å£°éŸ³</u>ã€‚å¯¹äºæ·±åº¦æ˜ å°„ï¼ˆdepth mappingï¼‰ç­‰ä¸“ä¸šåº”ç”¨ï¼Œæœ‰äººæå‡ºäº†è‡ªç›‘ç£æ–¹æ³•ï¼Œä»<u>æœªæ ‡æ˜çš„å›¾åƒå¯¹ä¸­å­¦ä¹ å•ç›®æ·±åº¦</u>ï¼ˆmonocular depthï¼‰æ¨¡å‹ï¼Œç„¶å<u>ä»å•æ‘„åƒå¤´è§†é¢‘ï¼ˆsingle-camera videoï¼‰ä¸­å­¦ä¹ å¸§</u>ã€‚æ­¤ç±»æ–¹æ³•ä»æ˜¯ä¸€ä¸ªæ´»è·ƒçš„ç ”ç©¶é¢†åŸŸã€‚</p> </li> <li> <p><strong>Learning spatial context</strong>: è¿™ä¸ªç§ç±»çš„æ–¹æ³•æ˜¯<u>è®­ç»ƒä¸€ä¸ªæ¨¡å‹æ¥ç†è§£ç‰©ä½“åœ¨ä¸€ä¸ªåœºæ™¯çš„ç›¸å¯¹ä½ç½®å’Œæ–¹å‘</u>ã€‚RotNet é€šè¿‡éšæœºæ—‹è½¬æ¥<u>æ©ç›–é‡åŠ›æ–¹å‘ï¼Œç„¶åè¦æ±‚æ¨¡å‹é¢„æµ‹æ—‹è½¬</u>ã€‚Doersch et al. æ˜¯æœ€æ—©çš„ SSL æ–¹æ³•ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥<u>ç®€å•åœ°é¢„æµ‹å›¾åƒä¸­ä¸¤ä¸ªéšæœºé‡‡æ ·çš„patchçš„ç›¸å¯¹ä½ç½®</u>ã€‚è¿™ä¸ªæ–¹æ³•åæ¥<u>è¢«Jigsawæ–¹æ³•å–ä»£</u>äº†ã€‚Jigsawæ–¹æ³•å°±æ˜¯æŠŠ<u>ä¸€ä¸ªå›¾ç‰‡åˆ†æˆä¸€åˆ—disjointçš„patchesç„¶åé¢„æµ‹ç›¸äº’çš„ç›¸å¯¹ä½ç½®</u>ã€‚ä¸€ä¸ªä¸åŒçš„ç©ºé—´ä»»åŠ¡æ˜¯å­¦ä¹ æ•°æ•°ï¼šæ¨¡å‹æ˜¯åœ¨è‡ªç›‘ç£æ–¹å¼è¢«è®­ç»ƒæ¥<u>è¾“å‡ºä¸€ä¸ªå›¾åƒä¸­ç‰©ä½“çš„æ•°é‡</u>ã€‚</p> </li> <li> <p><strong>Grouping similar images together</strong>: é€šè¿‡å°†<u>è¯­ä¹‰ç›¸ä¼¼çš„å›¾åƒåˆ†ç»„</u>ï¼Œå¯ä»¥å­¦ä¹ åˆ°<u>ä¸°å¯Œçš„ç‰¹å¾</u>ã€‚K-meansèšç±»å°±æ˜¯åœ¨ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ ä¸­æœ€å¹¿æ³›è¿ç”¨çš„æ–¹æ³•ä¹‹ä¸€ã€‚è®¸å¤šç ”ç©¶éƒ½å¯¹ k-means è¿›è¡Œäº†è°ƒæ•´ï¼Œä»¥ä¾¿åˆ©ç”¨ç¥ç»æ¨¡å‹åš SSLã€‚<u>æ·±åº¦èšç±»æŠ€æœ¯é€šè¿‡åœ¨ç‰¹å¾ç©ºé—´ï¼ˆfeature spaceï¼‰ä¸­æ‰§è¡Œ k-means æ¥äº¤æ›¿ä¸ºå›¾åƒåˆ†é…æ ‡ç­¾</u>ï¼Œå¹¶<u>æ›´æ–°æ¨¡å‹ä»¥respectè¿™äº›åˆ†é…çš„ç±»åˆ«æ ‡ç­¾</u>ã€‚è¿™ä¸ªæ–¹æ³•æœ€è¿‘çš„å¤„ç†æ–¹å¼æ˜¯ä½¿ç”¨<u>mean-shiftæ›´æ–°æ¥æŠŠfeaturesæ¨åˆ°ä»–ä»¬çš„èšç±»ä¸­å¿ƒ</u>ï¼Œè€Œä¸”å·²ç»è¢«è¯æ˜å¯ä»¥ç”¨æ¥<u>è¡¥å……BYOL</u>æ–¹æ³•ã€‚BYOLæ˜¯ä¸€ç§åŸºäºä¸¤ä¸ªç½‘ç»œçš„æ–¹æ³•ï¼Œå…¶ç›®æ ‡æ˜¯é¢„æµ‹<u>æ¯ä¸ªæ ·æœ¬çš„ä¼ªæ ‡ç­¾</u>ã€‚å¯¹æ·±åº¦èšç±»çš„åˆ«çš„æå‡åŒ…æ‹¬åœ¨ç‰¹å¾ç©ºé—´ç”¨optimal transport methodsæ¥åˆ›å»ºæ›´æœ‰ä¿¡æ¯çš„èšç±»ã€‚</p> </li> <li> <p><strong>Generative models</strong>: ä¸€ç§æ—©æœŸçš„æœ‰å½±å“åŠ›çš„SSLæ–¹æ³•æ˜¯è´ªå©ªå±‚çº§ï¼ˆgreedy layer-wiseï¼‰é¢„è®­ç»ƒï¼Œå…¶ä¸­ï¼Œæ·±åº¦ç½‘ç»œçš„å„å±‚ä½¿ç”¨autoencoder lossè¿›è¡Œé€å±‚è®­ç»ƒã€‚å½“æ—¶çš„ä¸€ç§ç±»ä¼¼æ–¹æ³•æ˜¯ä½¿ç”¨å—é™ç»å°”å…¹æ›¼æœº (RBMs)ï¼Œè¿™ç§æœºå™¨å¯ä»¥è¿›è¡Œåˆ†å±‚è®­ç»ƒå’Œå †å ï¼Œä»¥åˆ›å»ºæ·±åº¦ä¿¡å¿µç½‘ã€‚è™½ç„¶è¿™äº›æ–¹æ³•å·²è¢«æ”¾å¼ƒï¼Œè½¬è€Œé‡‡ç”¨æ›´ç®€å•çš„åˆå§‹åŒ–ç­–ç•¥å’Œæ›´é•¿çš„è®­ç»ƒæ—¶é—´ï¼Œä½†å®ƒä»¬åœ¨å†å²ä¸Šå¯¹ SSL çš„ä½¿ç”¨äº§ç”Ÿäº†æ·±è¿œå½±å“ï¼Œå› ä¸ºå®ƒä»¬ä¿ƒæˆäº†ç¬¬ä¸€æ‰¹ â€œæ·±åº¦ â€œç½‘ç»œçš„è®­ç»ƒã€‚åæ¥åœ¨auto-encodersçš„è¡¨å¾å­¦ä¹ çš„èƒ½åŠ›ä¸Šçš„æå‡æœ‰åŒ…æ‹¬denoising autoencodersï¼Œcross-channel predictionï¼Œå’Œdeep canoncically correlated autoencodersã€‚ä½†æ˜¯æœ€ç»ˆå‘ç°ï¼Œå½“è¦æ±‚auto-encoderæ¢å¤å…¶è¾“å…¥çš„ç¼ºå¤±éƒ¨åˆ†æ—¶ï¼Œè¡¨å¾è½¬ç§»æ€§ä¼šæ›´å¥½ï¼Œè¿™å°±å½¢æˆäº† SSL æ–¹æ³•ä¸­çš„ â€œä¿¡æ¯æ¢å¤ â€œç±»åˆ«ã€‚</p> <p>ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œç”±ä¸€ä¸ªå›¾åƒç”Ÿæˆå™¨å’Œä¸€ä¸ªåˆ¤åˆ«å™¨ç»„æˆï¼Œåˆ¤åˆ«å™¨åŒºåˆ†çœŸå›¾åƒå’Œç”Ÿæˆçš„å‡å›¾åƒã€‚è¿™å¯¹æ¨¡å‹çš„ä¸¤ä¸ªç»„æˆéƒ¨åˆ†éƒ½å¯ä»¥åœ¨æ²¡æœ‰ç›‘ç£çš„æƒ…å†µä¸‹è¿›è¡Œè®­ç»ƒï¼Œè€Œä¸”ä¸¤è€…éƒ½å¯èƒ½åŒ…å«å¯¹è¿ç§»å­¦ä¹ æœ‰ç”¨çš„çŸ¥è¯†ã€‚æ—©æœŸçš„GANsçš„è®ºæ–‡ä½¿ç”¨ GAN ç»„ä»¶è¿›è¡Œä¸‹æ¸¸å›¾åƒåˆ†ç±»å®éªŒã€‚æ­¤å¤–ï¼Œè¿˜å¼€å‘äº†ä¸“é—¨çš„ç‰¹å¾å­¦ä¹ ç¨‹åºæ¥ä¿®æ”¹åˆ¤åˆ«å™¨ã€æ·»åŠ ç”Ÿæˆå™¨æˆ–å­¦ä¹ ä»å›¾åƒåˆ°æ½œç©ºé—´çš„é¢å¤–æ˜ å°„ï¼Œä»¥æ”¹è¿›è¿ç§»å­¦ä¹ ã€‚</p> </li> <li> <p><strong>Multi-view invariance</strong>: è®¸å¤šç°ä»£ SSL æ–¹æ³•ï¼Œå°¤å…¶æ˜¯æˆ‘ä»¬åœ¨æœ¬æ–‡ä¸­é‡ç‚¹è®¨è®ºçš„æ–¹æ³•ï¼Œéƒ½ä½¿ç”¨å¯¹æ¯”å­¦ä¹ ï¼ˆcontrastive learningï¼‰æ¥åˆ›å»º<u>ä¸å—ç®€å•å˜æ¢å½±å“çš„ç‰¹å¾è¡¨å¾</u>ã€‚å¯¹æ¯”å­¦ä¹ çš„ç†å¿µæ˜¯é¼“åŠ±æ¨¡å‹<u>ä»¥ç›¸ä¼¼çš„æ–¹å¼è¡¨ç¤ºè¾“å…¥çš„ä¸¤ä¸ªå¢å¼ºç‰ˆæœ¬</u>ã€‚åœ¨å¯¹æ¯”å­¦ä¹ è¢«å¹¿æ³›é‡‡ç”¨ä¹‹å‰ï¼Œæœ‰è®¸å¤šæ–¹æ³•ä»¥å„ç§æ–¹å¼å¼ºåˆ¶ä¿æŒä¸å˜æ€§ï¼Œä»è€Œå¼•é¢†äº†è¿™ä¸€æ–¹å‘ã€‚</p> <p>ä»æ— æ ‡ç­¾æ•°æ®ä¸­å­¦ä¹ çš„æœ€æµè¡Œæ¡†æ¶ä¹‹ä¸€ï¼Œæ˜¯ä½¿ç”¨<u>å¼±è®­ç»ƒç½‘ç»œä¸ºå›¾åƒæ·»åŠ ä¼ªæ ‡ç­¾</u>ï¼ˆpseudolabelsï¼‰ï¼Œç„¶åä»¥æ ‡å‡†<u>ç›‘ç£æ–¹å¼ä½¿ç”¨è¿™äº›æ ‡ç­¾è¿›è¡Œè®­ç»ƒ</u>ã€‚è¿™ç§æ–¹æ³•åæ¥å¾—åˆ°äº†æ”¹è¿›ï¼Œ<u>åŠ å¼ºäº†å¯¹å˜æ¢çš„ä¸å˜æ€§</u>ï¼ˆinvariance to transformationsï¼‰ã€‚è™šæ‹Ÿå¯¹æŠ—è®­ç»ƒï¼ˆvirtual adversarial trainingï¼‰<u>åˆ©ç”¨å›¾åƒçš„ä¼ªæ ‡ç­¾å¯¹ç½‘ç»œè¿›è¡Œè®­ç»ƒ</u>ï¼Œæ­¤å¤–è¿˜è¿›è¡Œ<u>å¯¹æŠ—è®­ç»ƒ</u>ï¼Œä½¿å­¦ä¹ åˆ°çš„ç‰¹å¾å‡ ä¹ä¸å—è¾“å…¥å›¾åƒå¾®å°æ‰°åŠ¨ï¼ˆsmall perturbationsï¼‰çš„å½±å“ã€‚åæ¥çš„å·¥ä½œé‡ç‚¹æ˜¯<u>ä¿æŒæ•°æ®å¢å¼ºï¼ˆaugmentationï¼‰å˜æ¢çš„ä¸å˜æ€§</u>ï¼ˆmaintain invariance to data augmentation transformsï¼‰ã€‚è¿™ç±»æ—©æœŸçš„é‡è¦æ–¹æ³•åŒ…æ‹¬ MixMatchï¼Œè¯¥æ–¹æ³•é€šè¿‡<u>å¹³å‡</u>ï¼ˆaverageï¼‰ç½‘ç»œåœ¨<u>å¤šä¸ªä¸åŒéšæœºå¢å¼º</u>ï¼ˆaugmentationï¼‰<u>è®­ç»ƒå›¾åƒä¸Šçš„è¾“å‡º</u>æ¥é€‰æ‹©<u>ä¼ªæ ‡ç­¾</u>ï¼Œä»è€Œå¾—åˆ°<u>å¢å¼ºä¸å˜çš„æ ‡ç­¾</u>ã€‚å¤§çº¦åœ¨åŒä¸€æ—¶é—´ï¼Œäººä»¬å‘ç°ï¼Œé€šè¿‡<u>è®­ç»ƒç½‘ç»œä½¿ä¸åŒè§†è§’ä¸‹çš„å›¾åƒè¡¨å¾ä¹‹é—´çš„äº’ä¿¡æ¯æœ€å¤§åŒ–</u>ï¼Œå¯ä»¥å®ç°<u>è‰¯å¥½çš„ SSL æ€§èƒ½</u>ã€‚è¿™äº›ä»¥å¢å¼ºä¸ºåŸºç¡€ï¼ˆaugmentation-basedï¼‰çš„æ–¹æ³•åœ¨ä¸Šè¿°æ—§æ–¹æ³•å’Œæœ¬æ–‡é‡ç‚¹è®¨è®ºçš„ç°ä»£æ–¹æ³•ä¹‹é—´æ¶èµ·äº†ä¸€åº§æ¡¥æ¢ã€‚</p> </li> </ol> <p>æœ‰äº†è¿™äº›æ¸Šæºï¼Œæˆ‘ä»¬ç°åœ¨å°† SSL åˆ†æˆå››å¤§ç³»åˆ—ï¼šæ·±åº¦åº¦é‡å­¦ä¹ ï¼ˆDeep Metric Learningï¼‰ç³»åˆ—ã€è‡ªé¦åˆ†ï¼ˆSelf-Distillationï¼‰ç³»åˆ—ã€å…¸å‹ç›¸å…³åˆ†æï¼ˆCanonical Correlation Analysisï¼‰ç³»åˆ—å’Œå±è”½å›¾åƒå»ºæ¨¡ï¼ˆMasked Image Modelingï¼‰ç³»åˆ—ã€‚</p> <p>åœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­ï¼Œå°†ä¼šä»¥åŸè‘—çš„æ–¹å¼å‘ˆç°æ‘˜å½•æ¥å½¢æˆç¬”è®°ã€‚</p>]]></content><author><name></name></author><category term="study"/><category term="ucph"/><category term="ssl"/><summary type="html"><![CDATA[This is the first part of this book.]]></summary></entry><entry><title type="html">a post with code diff</title><link href="https://liuying-1.github.io/blog/2024/code-diff/" rel="alternate" type="text/html" title="a post with code diff"/><published>2024-01-27T19:22:00+00:00</published><updated>2024-01-27T19:22:00+00:00</updated><id>https://liuying-1.github.io/blog/2024/code-diff</id><content type="html" xml:base="https://liuying-1.github.io/blog/2024/code-diff/"><![CDATA[<p>You can display diff code by using the regular markdown syntax:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff
</span><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")
</span></code></pre></div></div> <p>But this is difficult to read, specially if you have a large diff. You can use <a href="https://diff2html.xyz/">diff2html</a> to display a more readable version of the diff. For this, just use <code class="language-plaintext highlighter-rouge">diff2html</code> instead of <code class="language-plaintext highlighter-rouge">diff</code> for the code block language:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff2html
</span><span class="sb">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
--- a/sample.js
+++ b/sample.js
@@ -1 +1 @@
-console.log("Hello World!")
+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>If we use a longer example, for example <a href="https://github.com/rtfpessoa/diff2html/commit/c2c253d3e3f8b8b267f551e659f72b44ca2ac927">this commit from diff2html</a>, it will generate the following output:</p> <pre><code class="language-diff2html">From 2aaae31cc2a37bfff83430c2c914b140bee59b6a Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sun, 9 Oct 2016 16:41:54 +0100
Subject: [PATCH 1/2] Initial template override support

---
 scripts/hulk.js                    |  4 ++--
 src/diff2html.js                   |  3 +--
 src/file-list-printer.js           | 11 ++++++++---
 src/hoganjs-utils.js               | 29 +++++++++++++++++------------
 src/html-printer.js                |  6 ++++++
 src/line-by-line-printer.js        |  6 +++++-
 src/side-by-side-printer.js        |  6 +++++-
 test/file-list-printer-tests.js    |  2 +-
 test/hogan-cache-tests.js          | 18 +++++++++++++++---
 test/line-by-line-tests.js         |  3 +--
 test/side-by-side-printer-tests.js |  3 +--
 11 files changed, 62 insertions(+), 29 deletions(-)

diff --git a/scripts/hulk.js b/scripts/hulk.js
index 5a793c18..a4b1a4d5 100755
--- a/scripts/hulk.js
+++ b/scripts/hulk.js
@@ -173,11 +173,11 @@ function namespace(name) {
 // write a template foreach file that matches template extension
 templates = extractFiles(options.argv.remain)
   .map(function(file) {
-    var openedFile = fs.readFileSync(file, 'utf-8');
+    var openedFile = fs.readFileSync(file, 'utf-8').trim();
     var name;
     if (!openedFile) return;
     name = namespace(path.basename(file).replace(/\..*$/, ''));
-    openedFile = removeByteOrderMark(openedFile.trim());
+    openedFile = removeByteOrderMark(openedFile);
     openedFile = wrap(file, name, openedFile);
     if (!options.outputdir) return openedFile;
     fs.writeFileSync(path.join(options.outputdir, name + '.js')
diff --git a/src/diff2html.js b/src/diff2html.js
index 21b0119e..64e138f5 100644
--- a/src/diff2html.js
+++ b/src/diff2html.js
@@ -7,7 +7,6 @@

 (function() {
   var diffParser = require('./diff-parser.js').DiffParser;
-  var fileLister = require('./file-list-printer.js').FileListPrinter;
   var htmlPrinter = require('./html-printer.js').HtmlPrinter;

   function Diff2Html() {
@@ -43,7 +42,7 @@

     var fileList = '';
     if (configOrEmpty.showFiles === true) {
-      fileList = fileLister.generateFileList(diffJson, configOrEmpty);
+      fileList = htmlPrinter.generateFileListSummary(diffJson, configOrEmpty);
     }

     var diffOutput = '';
diff --git a/src/file-list-printer.js b/src/file-list-printer.js
index e408d9b2..1e0a2c61 100644
--- a/src/file-list-printer.js
+++ b/src/file-list-printer.js
@@ -8,11 +8,16 @@
 (function() {
   var printerUtils = require('./printer-utils.js').PrinterUtils;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var baseTemplatesPath = 'file-summary';
   var iconsBaseTemplatesPath = 'icon';

-  function FileListPrinter() {
+  function FileListPrinter(config) {
+    this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   FileListPrinter.prototype.generateFileList = function(diffFiles) {
@@ -38,5 +43,5 @@
     });
   };

-  module.exports.FileListPrinter = new FileListPrinter();
+  module.exports.FileListPrinter = FileListPrinter;
 })();
diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 9949e5fa..0dda08d7 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -8,18 +8,19 @@
 (function() {
   var fs = require('fs');
   var path = require('path');
-
   var hogan = require('hogan.js');

   var hoganTemplates = require('./templates/diff2html-templates.js');

-  var templatesPath = path.resolve(__dirname, 'templates');
+  var extraTemplates;

-  function HoganJsUtils() {
+  function HoganJsUtils(configuration) {
+    this.config = configuration || {};
+    extraTemplates = this.config.templates || {};
   }

-  HoganJsUtils.prototype.render = function(namespace, view, params, configuration) {
-    var template = this.template(namespace, view, configuration);
+  HoganJsUtils.prototype.render = function(namespace, view, params) {
+    var template = this.template(namespace, view);
     if (template) {
       return template.render(params);
     }
@@ -27,17 +28,16 @@
     return null;
   };

-  HoganJsUtils.prototype.template = function(namespace, view, configuration) {
-    var config = configuration || {};
+  HoganJsUtils.prototype.template = function(namespace, view) {
     var templateKey = this._templateKey(namespace, view);

-    return this._getTemplate(templateKey, config);
+    return this._getTemplate(templateKey);
   };

-  HoganJsUtils.prototype._getTemplate = function(templateKey, config) {
+  HoganJsUtils.prototype._getTemplate = function(templateKey) {
     var template;

-    if (!config.noCache) {
+    if (!this.config.noCache) {
       template = this._readFromCache(templateKey);
     }

@@ -53,6 +53,7 @@

     try {
       if (fs.readFileSync) {
+        var templatesPath = path.resolve(__dirname, 'templates');
         var templatePath = path.join(templatesPath, templateKey);
         var templateContent = fs.readFileSync(templatePath + '.mustache', 'utf8');
         template = hogan.compile(templateContent);
@@ -66,12 +67,16 @@
   };

   HoganJsUtils.prototype._readFromCache = function(templateKey) {
-    return hoganTemplates[templateKey];
+    return extraTemplates[templateKey] || hoganTemplates[templateKey];
   };

   HoganJsUtils.prototype._templateKey = function(namespace, view) {
     return namespace + '-' + view;
   };

-  module.exports.HoganJsUtils = new HoganJsUtils();
+  HoganJsUtils.prototype.compile = function(templateStr) {
+    return hogan.compile(templateStr);
+  };
+
+  module.exports.HoganJsUtils = HoganJsUtils;
 })();
diff --git a/src/html-printer.js b/src/html-printer.js
index 585d5b66..13f83047 100644
--- a/src/html-printer.js
+++ b/src/html-printer.js
@@ -8,6 +8,7 @@
 (function() {
   var LineByLinePrinter = require('./line-by-line-printer.js').LineByLinePrinter;
   var SideBySidePrinter = require('./side-by-side-printer.js').SideBySidePrinter;
+  var FileListPrinter = require('./file-list-printer.js').FileListPrinter;

   function HtmlPrinter() {
   }
@@ -22,5 +23,10 @@
     return sideBySidePrinter.generateSideBySideJsonHtml(diffFiles);
   };

+  HtmlPrinter.prototype.generateFileListSummary = function(diffJson, config) {
+    var fileListPrinter = new FileListPrinter(config);
+    return fileListPrinter.generateFileList(diffJson);
+  };
+
   module.exports.HtmlPrinter = new HtmlPrinter();
 })();
diff --git a/src/line-by-line-printer.js b/src/line-by-line-printer.js
index b07eb53c..d230bedd 100644
--- a/src/line-by-line-printer.js
+++ b/src/line-by-line-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'line-by-line';
   var iconsBaseTemplatesPath = 'icon';
@@ -19,6 +20,9 @@

   function LineByLinePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   LineByLinePrinter.prototype.makeFileDiffHtml = function(file, diffs) {
diff --git a/src/side-by-side-printer.js b/src/side-by-side-printer.js
index bbf1dc8d..5e3033b3 100644
--- a/src/side-by-side-printer.js
+++ b/src/side-by-side-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'side-by-side';
   var iconsBaseTemplatesPath = 'icon';
@@ -26,6 +27,9 @@

   function SideBySidePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   SideBySidePrinter.prototype.makeDiffHtml = function(file, diffs) {
diff --git a/test/file-list-printer-tests.js b/test/file-list-printer-tests.js
index a502a46f..60ea3208 100644
--- a/test/file-list-printer-tests.js
+++ b/test/file-list-printer-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var fileListPrinter = require('../src/file-list-printer.js').FileListPrinter;
+var fileListPrinter = new (require('../src/file-list-printer.js').FileListPrinter)();

 describe('FileListPrinter', function() {
   describe('generateFileList', function() {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 190bf6f8..3bb754ac 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var HoganJsUtils = require('../src/hoganjs-utils.js').HoganJsUtils;
+var HoganJsUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)();
 var diffParser = require('../src/diff-parser.js').DiffParser;

 describe('HoganJsUtils', function() {
@@ -21,16 +21,28 @@ describe('HoganJsUtils', function() {
       });
       assert.equal(emptyDiffHtml, result);
     });
+
     it('should render view without cache', function() {
       var result = HoganJsUtils.render('generic', 'empty-diff', {
         contentClass: 'd2h-code-line',
         diffParser: diffParser
       }, {noCache: true});
-      assert.equal(emptyDiffHtml + '\n', result);
+      assert.equal(emptyDiffHtml, result);
     });
+
     it('should return null if template is missing', function() {
-      var result = HoganJsUtils.render('generic', 'missing-template', {}, {noCache: true});
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)({noCache: true});
+      var result = hoganUtils.render('generic', 'missing-template', {});
       assert.equal(null, result);
     });
+
+    it('should allow templates to be overridden', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+
+      var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
diff --git a/test/line-by-line-tests.js b/test/line-by-line-tests.js
index 1cd92073..8869b3df 100644
--- a/test/line-by-line-tests.js
+++ b/test/line-by-line-tests.js
@@ -14,7 +14,7 @@ describe('LineByLinePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expected, fileHtml);
     });
@@ -422,7 +422,6 @@ describe('LineByLinePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                &lt;/tbody&gt;\n' +
         '            &lt;/table&gt;\n' +
         '        &lt;/div&gt;\n' +
diff --git a/test/side-by-side-printer-tests.js b/test/side-by-side-printer-tests.js
index 76625f8e..771daaa5 100644
--- a/test/side-by-side-printer-tests.js
+++ b/test/side-by-side-printer-tests.js
@@ -14,7 +14,7 @@ describe('SideBySidePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expectedRight, fileHtml.right);
       assert.equal(expectedLeft, fileHtml.left);
@@ -324,7 +324,6 @@ describe('SideBySidePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                    &lt;/tbody&gt;\n' +
         '                &lt;/table&gt;\n' +
         '            &lt;/div&gt;\n' +

From f3cadb96677d0eb82fc2752dc3ffbf35ca9b5bdb Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sat, 15 Oct 2016 13:21:22 +0100
Subject: [PATCH 2/2] Allow uncompiled templates

---
 README.md                 |  3 +++
 src/hoganjs-utils.js      |  7 +++++++
 test/hogan-cache-tests.js | 24 +++++++++++++++++++++++-
 3 files changed, 33 insertions(+), 1 deletion(-)

diff --git a/README.md b/README.md
index 132c8a28..46909f25 100644
--- a/README.md
+++ b/README.md
@@ -98,6 +98,9 @@ The HTML output accepts a Javascript object with configuration. Possible options
   - `synchronisedScroll`: scroll both panes in side-by-side mode: `true` or `false`, default is `false`
   - `matchWordsThreshold`: similarity threshold for word matching, default is 0.25
   - `matchingMaxComparisons`: perform at most this much comparisons for line matching a block of changes, default is `2500`
+  - `templates`: object with previously compiled templates to replace parts of the html
+  - `rawTemplates`: object with raw not compiled templates to replace parts of the html
+  &gt; For more information regarding the possible templates look into [src/templates](https://github.com/rtfpessoa/diff2html/tree/master/src/templates)

 ## Diff2HtmlUI Helper

diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 0dda08d7..b2e9c275 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -17,6 +17,13 @@
   function HoganJsUtils(configuration) {
     this.config = configuration || {};
     extraTemplates = this.config.templates || {};
+
+    var rawTemplates = this.config.rawTemplates || {};
+    for (var templateName in rawTemplates) {
+      if (rawTemplates.hasOwnProperty(templateName)) {
+        if (!extraTemplates[templateName]) extraTemplates[templateName] = this.compile(rawTemplates[templateName]);
+      }
+    }
   }

   HoganJsUtils.prototype.render = function(namespace, view, params) {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 3bb754ac..a34839c0 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -36,7 +36,7 @@ describe('HoganJsUtils', function() {
       assert.equal(null, result);
     });

-    it('should allow templates to be overridden', function() {
+    it('should allow templates to be overridden with compiled templates', function() {
       var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');

       var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
@@ -44,5 +44,27 @@ describe('HoganJsUtils', function() {
       var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
       assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
     });
+
+    it('should allow templates to be overridden with uncompiled templates', function() {
+      var emptyDiffTemplate = '&lt;p&gt;&lt;/p&gt;';
+
+      var config = {rawTemplates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
+
+    it('should allow templates to be overridden giving priority to compiled templates', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+      var emptyDiffTemplateUncompiled = '&lt;p&gt;Not used!&lt;/p&gt;';
+
+      var config = {
+        templates: {'generic-empty-diff': emptyDiffTemplate},
+        rawTemplates: {'generic-empty-diff': emptyDiffTemplateUncompiled}
+      };
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is how you can display code diffs]]></summary></entry></feed>