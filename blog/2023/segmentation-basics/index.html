<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="googlece17f0a456a89a36.html"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Segmentation Basics | Y. Liu </title> <meta name="author" content="Y. Liu"> <meta name="description" content="Learning note for medical image segmentation."> <meta name="keywords" content="ku, ucph, copenhagen, diku, portfolio-website, liuying, dk, yingliu, ying liu, liu ying"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/favicon.png?157bbd74cef60250fd5a67a2e078966e"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://liuying-1.github.io/blog/2023/segmentation-basics/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Y.</span> Liu </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">Ctrl K <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">Segmentation Basics</h1> <p class="post-meta"> Created in September 21, 2023 </p> <p class="post-tags"> <a href="/blog/2023"> <i class="fa-solid fa-calendar fa-sm"></i> 2023 </a>   ·   <a href="/blog/tag/mia"> <i class="fa-solid fa-hashtag fa-sm"></i> mia</a>   ·   <a href="/blog/category/study"> <i class="fa-solid fa-tag fa-sm"></i> study</a>   <a href="/blog/category/ucph"> <i class="fa-solid fa-tag fa-sm"></i> ucph</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p><b><i>Disclaimer: All the material below is refered to the course, Medical Image Analysis, delievered by the University of Copenhagen.</i></b></p> <h4 id="todays-learning-objectives">Today’s Learning Objectives</h4> <ul> <li>Define what segmentation means</li> <li>What kind of segmentation methods exist</li> <li>Explain how connected component decomposition works</li> <li>How can you use dilation-erosion operations</li> </ul> <p>First, I will tell you <u>what segmentation means</u> and then I will familliarize you with some <u>existing simple segmentation methods</u>. <u>These methods can be used as</u> and are used very often despite very simple, not usually as independent solutions, but actually, as <u>auxiliary methods</u>. And I will also show you a couple of useful tools, and one of them will be the connected component decomposition and another one will be more for logical operations. And I will show you how we use them in practice, how you can augment medical image segmentation with these methods.</p> <h4 id="topics-of-interest">Topics of Interest</h4> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/iFssnJ1.png" alt="image-20230923063424696" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 1. Topics of interest in segmentation conference </div> <p>In this chart, I tried to recover from my own memory, and one of the medical image conferences the organizer presented a separation of all submissions into different topics. Of course, you can separate this submissions separately, but as far as I remeber, the separation is approximately like this. You can see that, <u>segmentation</u> actually occupies the majority of submissions which are presented at conferences. So <u>this is a topic which attracts the most interest in the community</u>.</p> <h5 id="reconstruction">Reconstruction</h5> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/5ctIAih.png" alt="image-20230923064608513" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 2. Topics of interest - Reconstruction </div> <p>When the 3D images of human body are required, the human body are typically positioned inside a tubular room, and the detector goes around the human body, spins around and acquire a series of 2D image projections. <u>And these images are stacked one after another into 3D volume</u>, which further doesn’t look like a 3D volume of human body. It looks like the image on the left, which is the <u>spectrum</u> of the image. In CT, it’s called <u>sinogram</u>. And there is an <u>algorithm, which can then reconstruct</u> the true 3D volume from this sinogram, and there is a theory which says, <u>it is always possible for a perfect accurate sinogram to reconstruct a perfect accurate 3D volume</u>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/G33TMox.png" alt="image-20230923070541523" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 3. Spectrum </div> <p>However, in real life, we <u>never have a perfect smooth and complete image of spectrum or sinogram</u>. And the reason is very simple, <u>we can not acquire images at every possible step</u> (degree) when the detector spins around the human body. And we have to do some sacrifices. We have to acquire images from some steps, and due to these steps, <u>due to a lower number of images acquired</u>, we first of all <u>speed up the acquisition time</u> where reduce the radiation dose delievered to the patient. For example, we require CT images, and at the same time, we kind of <u>make our CT scanners less expensive</u>.</p> <p>And <u>the problem what we are facing is</u>, <u>what is the minimum number of images need to reconstruct to another anatomy</u>. It turns out that currently, if we cannot use really record high-quality motion life images which we may need sometimes. For example, to record how heart moves, how human breaths, and so on. And this problem <u>results in two options</u>. Either we have <u>a poor quality image with motions</u>, or we cannot acquire motion at all. We require <u>static images, which can be affected by motion artifacts</u>. The researchers start to think, what if we acquire less images, <u>what if we start from a poor solution</u>, poor quality images, and try to develop algorithms. Knowing something about human anatomy, try to <u>develop algorithms to improve image reconstruction</u>. Maybe we can use the existing scanners, poor quality scanners, and see if we can get good images with using computational methods. And here is some example from work from Nvidia where they only take 10% of 2D projection images generated by a MR scanner, and apply <u>deep learning to generate a reconstruction</u> (center above). So you can see that, by using existing techniques, it can work well.</p> <h5 id="synthesis">Synthesis</h5> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/bJBcsRU.png" alt="image-20230923072252122" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 4. Topics of interest - Synthesis </div> <p>The next topic of interest is <u>image synthesis</u>. The idea of image synthesis is to <u>generate artificial image modalities from other modalities</u> of the same patient.</p> <p>Let’s say we have <u>a CT image of a patient</u>. And <u>image synthesis algorithm try to generate a MR image of a same patient in the same position having in the CT image</u>. Why is this useful?</p> <p>Let’s say we have <u>a solution with toolbox</u>, which require CT and MRI images to <u>diagnose the disease</u>. And let’s say we install this toolbox in a place where there is no MRI scanner. In such a place, we may <u>either wait when the MRI scanner gets installed too so that we start to use this toolbox</u>. Or we can <u>apply the synthesis to generate the artificial MR scanners</u>, and try to use this toolbox. This is one of the way how synthesis can be used.</p> <p>Another way of synthesis where synthesis is useful is <u>detection of abnormalities</u>. Let’s say we have a CT image of a patient. As you can see from the illustration (above), some of the structures of the brain, some of them are soft tissues are very poorly visible in CT. And this means, if there is a small tumor, it’s possible that we will not even see it in the CT image. At the same time, this tumor will be very well visible in MR. And what we can try to do is we can try to use CT image if we have both CT and MR images of the same patient, we can try to take a CT image and generate a diffierential MR image. During this generation, that newly generated MR, will have no tumor because the tumor is almost invisible in CT, because the algorithm doesn’t actually know where is the tumor. And it will generate us a more or less clean image of overhead. And when we subtract our true MR from the artificially synthesised MR, it is possible that tumor will be highlighted because there is no tumor under artificial synthesised MR image, there is one in the true one.</p> <h5 id="image-guided-interventions">Image-guided interventions</h5> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/use2VlQ.png" alt="intenvention" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 4. Topics of interest - Synthesis </div> <p>Another topic of interest is a very large one, it is <u>Image-guided procedures</u>. Usually, image procedures require the use of many combinational tools, including image segmentation, and image registration. The key think that we separate this topic of interest is that they are much centered at a specific procedure. They are very target. Actually protocal is procedure. And one good example is image-guided procedure, image intervention is insertion of medical screws into the patient vertebra.</p> <p>Why do we even need this procedure? Some patients have very severe form of scoliosis or we have spine damage. In order to fix the spine curvature, it might be necessary to insert screws into the patient’s spine. And put a back cord for the screws so that the spine will be tilted and straighted. According to the anatomical requirements of human body, and insert screws is a procedure will actually actively straighten this spine and allow the patient to function properly. When we do this insertion, we need to be very careful that the screws do not go into wrong place. First of all, the screws should not break the vertebra. If we break the vertebra, it is possible that we instead of help patient but more serverely than he was already injured. Another problem is that the screws should not go into the spinal cords. We should be very careful that screws go into the spinal cords, otherwise, the outcome might be devastating. And also, the screws inserted properly may get loosen, so the procedure should be repeated again. To answer all these questions, we need to analyse images, we need to see how the anatomy of the patient is organized. In order to position these screws perfectly through particles of vertebra.</p> <p>There are many other applications of Image-guided interventions, for example, epidemic treatment, femoral head replacement, and some surgeries.</p> <h5 id="computer-aided-diagnose">Computer-aided diagnose</h5> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/R7C89xq.png" alt="image-20230923090634240" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 5. Topics of interest - Computer aided diagnose </div> <p>One of the topics that has been gaining a lot of interest recently is computer-aided diagnoses. For example, it could be a paper which was published in nature on skin image analysis by stanford. The idea here is that they take an image of the skin, take photos of them, and pass them for neural network, try to predict different skin dieases. Other applications could be prediction of diabetes, and some other applications like prediction of long pathologies from just xrays.</p> <h5 id="registration">Registration</h5> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/eKF7zGm.png" alt="image-20230923091229536" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 6. Topics of interest - Image Registration </div> <p>During our course, you will have several lectures of image registration, because if not knowing what image registration is or how it works, it is impossible to work in the field of medical image analysis.</p> <p>And the image registration, what it tries to do is, it tries to find a transformation from one image to another. As you can see in this example, what we try to do is we’ll try to take the image which is located at the left up top corner, and slowly step by step with deform it so that the it can come to the image located at the right bottom corner. And we slowly step by step deform it until it turns into again into the image at the left top. And the practical accountability of image registration is significant. One of the ways we can use registration is to monitor disease progression.</p> <p>Let’s say the patient has been imaged, and the doctor prescribed him a treatment. And after some time, after several months, he would like to follow up how this diease is managed by treatment. And let’s say these dieases affect some structures in the human body, maybe it’s a tumor, which should shrink. Let’s see if the treatment is chemotherapy or regular therapy or maybe it is a disease, like brain, some degenerative diease in the brain like dementia, which results in degradation of certain brain structures. And what you would like to know is quantatively assess how much the tumor or some brain starts just change. What we would do is to take the image of the patient which came at the time of diagnosis. Annotate the structure there, and deform it towards a patient image which we see after at the follow-up time. A lot of changes will tell us how fast it is progressing and whether it’s a treatment has been affected. Another way to use image registratin is to segment structures of interest through registration.</p> <p>Let’s say we have a patient whose structure inside his body has been segmentated manually and very lightly. We’re interested to segment the same structure on a new image. What we can do is we can manually do it take a instrument like paint brush in some toolbox, and manually outline the structure which is very time-consuming and might be imprecise. But the other way of doing it is to take an image which we have and deform this image of other patients towards our new image and simultaneously deform the structures. Use these deformation to understand how structures are depicted.</p> <h4 id="segmentation-applications">Segmentation Applications</h4> <p>After familiarizing you with a main topics of interest in the field, let me go directly to image segmentation.</p> <hr> <ul> <li>Process of partitionig an image into distinct regions</li> <li>Why do we need segmentation in computer vision or medical imaging</li> </ul> <hr> <p>So topic which receives the most attention by researchers, the topic which used the most and contribute the most, and different applications in the field.</p> <p>What definition for segmentation is basically personalization of the image into meaninful regions. And if you think about it, such personalization is extremely valuable, not only in medical imaging. Everytime when we analyze image, when we try to understand what is the depicted in the image, we perform segmentation. At least we can perform segmentation at least what is depicted.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/6UVfnkP.png" alt="image-20230925192552726" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 7. Segmentation </div> <p>Let’s say here is an image of a dog. To understand this is a dog, what we can actually apply an algorithm can develop analogy which will segment which will basically contour the dog on even images, and <u>this contouring can be used to actually find out where the object is located</u>, what is in the background and so on.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/TFxtpS1.png" alt="image-20230925203509741" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 8. Self-driving </div> <p>Another application a more close to industry application is <u>self-driving cars</u>. These days like self-driving cars, is really flying there and not much time will pass before the self-driving cars will become the main way of transportation. And the way the car, the algorithm inside the car understands where to turn and how to interact. It usually requires <u>segmentation</u>, the algorithm needs to know <u>what happens around it</u>. Where are other cars? Where are the traffic lights? Where is the pedestrians? Where obstacles like shops or buildings. To do this, we need <u>segmentation</u>. We need to take an image around us and partition into meaningful regions in order to understand what happens around us.</p> <h5 id="automation-of-manual-work">Automation of manual work</h5> <p>One of the ways we can use segmentation is for <strong>automation of manual work</strong>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/ZYZB2Mz.png" alt="image-20230925203703772" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 9. Automation of manual work </div> <p>In medical image, it is sometimes needed to segment organs to understand somethimg about human anatomy. And if you can see that many different areas, this is one area where this is done the constantly old time and takes a lot of time over for human. And this area is <u>radiation therapy planning</u>.</p> <p><u>Why the segmentation is needed there?</u></p> <p>Here is an example of two radiant therapist, one is having neuron therapy and one is liver radiant therapy. What we do when we deliver radiation to patient? What we do is we don’t only radiate tumor but actually radiation <u>does not differentiate between tumor and healthy structures</u>.</p> <p>So if we shoot radiation beam, it will pass through the human body and it will radiate everything on its way. <u>How can we be sure that we kill the tumors selves but actually do not kill or minimally damage the surrounding issues?</u></p> <p>The way to do it is actually to <u>use several beams to shoot from different directions</u>. In such way that <u>all of these beams face centered to the tumor</u>, so that radiation delivered to surrounding structures is somehow really distributed. We <u>have high dose delivered to the tumor</u> and <u>not such a high dose delivered to all surrounding structures</u>.</p> <p>When we do this, we still want to be sure that <u>no critical structure is damaged</u>. This is something very difficult to achieve. Let’s say a tumor is located very close to some critical structures like in the brain or close to spinal cord.</p> <p>Does it mean that we can simply position beams equidistantly around the human body and shoot as long as we deliver enough dose to the tumor, do not care how much dose is distributed surrounding structures?</p> <p>Well actually, that’s not true. <u>It turns out that different human organs have different radiation doses activity</u>. Let’s say if we irritate spinal cord, it’s actually way worse in contrast to irrigating the same volume of the ear. All of these relationships is divided of different organs has been carefully evaluated during the last couple of decades by oncologists and they established a set of rules saying that 30% of liver who received those below certian level or tge maximum dose delivered to spinal cord should be below such and such level.</p> <p>But how we can be sure that this constraints are satisfied?</p> <p><u>The way to do it is to segment all organs which are at risk to receive a dose.</u> In the image, segment tumor and plan the treatment before I actually shooting the doses plan treatment and see, what is the volume? How much dose each organ receives? Have the segmentation, we can measure what is the volume in certain millimeters of inhibitors of what is the volume? What is the dose each organ receives and this segmentation of organs is performed continously in the medical field is doing every day now and it takes hours to do this. And many companies like Philips, they focus on developing solutions for <strong><u>segmentation of organs for radiation therapy planing</u></strong>.</p> <h5 id="computer-aided-diagnosis">Computer-aided diagnosis</h5> <p>Another area of interest is computer-aided diagnosis.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/pojc5mU.png" alt="image-20230925213407477" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 10. Heart segmentation </div> <p>In before, the radiation therapy is treament planning. Here, we don’t know if patient is sick or not, but we can use segmentation to do that. We can use segmentation to estimate if the patient is sick. For example, a cardiacally enlargement of heart can be detected on X-ray images. To do that, what they do is they matter these two lines like basically you can see in the center of an image. A measure the length of this, the height of a heart and the width of the heart in X-ray and from this measurements. They can say if a patient has a normal heart. <u>However, instead of measuring this two lines, it's way better and it might even be more precise and useful to actually segment the whole heart and estimate this volume extremely from segmentation instead of measuring it's height and width</u>. And here, we need segmentation.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/FJH1ETW.png" alt="image-20230925213407477" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 11. Computer-aided diagnosis </div> <p><u>Another example is from detection of a vertebra block fractures</u>. When we age, our bones weaken and some vertebra these can collapse. And in some cases, we need to perform a treatment, we need to maybe strengthen the vertebra. If the patient is going to develop very serious complication affect the vertebra about to break or it’s too weak.</p> <p>The question is how do we estimate the state of the vertebra?</p> <p>What the doctors do is they take 3D image of a patient and they measure some metrics, they measure height of vertebral points at the front area in the middle and at the back. And there are tables which says what should be the height and what should be the propulsion of these heights respect to each other for healthy vertebra and for pathological vertebra.</p> <p><u>Instead of measuring these distances manually, what we can do is we can apply an algorithm for measuring them automatically.</u> And such algorithms actually perform better than human because instead of taking one point in the image, they can segment the whole vertebra. And measure the height of the level of compression more comprehensively, not just from one distance.</p> <p>Another application of computer aided diagnosis is, for example, <u>writing an automated reports</u>. Let’s say we have a lung field image. And the doctor or maybe a machine annotated pathologist on this image, for example, annotated regions which are suspicious to be cancer or some other opacities or pneumatics or pneumonia or covid. And they would like to generate an automated report from this, what will may need is actually segmentation of lungs in order to say where exactly the pathology is located. From segmentation, we can say that, the pathology is located at the lower part of our right lock or at the upper lobe of a left clunk. And for this, we need segmentation.</p> <h5 id="image-guided-procedures">Image-guided procedures</h5> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/YfisbTL.png" alt="image-20230925223731903" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 12. Image-guided procedures </div> <p>Here is the screenshot from the software from <u>planning dental implants</u>.</p> <p>When a patient comes for the dental implant, it’s especially if implant requires insertion of screws into paitent’s jaw and the 3D image of patient jaw is required. And my doctor, when he sees how a patient’s jaw looks like, and he sees the place for the implant to be inserted.</p> <p>He faces a couple of challenges, one of them is he needs to design an implant wihch will fit patients jaw perfectly. One way to do is, to have a collection of teeth, basically, image collection of different teeth. And take an average teeth from population, average shape for a specific tooth from population, and put it artificially into the jaw, adjust the shape of his tooth towards to the patient. Unfortunately this procedure is very lengthy because average tooth will never fit very well to a specific patient. We have very different tooth.</p> <p>The way better strategy is to <u>use the patients anatomy to generate an implant</u>. What we can do is we can use a <u>symmetry of patient's jaw</u>. It is known that a specific tooth will be very similar to the same tooth on the other side of the jaw. So what we can do is we can apply segmentation algorithm, extract the same tooth from other parts of the jaw. And then we can reflect it and position, then start to adjust. This usually require way of less time.</p> <p>Another thing which should take into account is when we insert screws into the jaw, we should not injure the nerves. Otherwise, the patient will have serious complications, or his muscles in jaw get paralyzed. And here we can do segmentation to be sure to understand how this nerve is going.</p> <h5 id="motion-analysis">Motion analysis</h5> <p>Another area of significant interest is motion analysis.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/TkAscm9.png" alt="image-20230925223731903" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 13. Motion analysis </div> <p>It is often the case then we image some moving structures like heart or lungs, we would like to know how exactly they move. We don’t only want their static appearance but also dynamic appearance. And there are image modalities which allows us to do that. For example, we can do that with MR images which captures the motion.</p> <p>ANd when we acquire such an image, it might do very beneficial to understand the anatomy, to understand the move patterns, and with the segmentation for that. For example, here on the right there is segmentation of heart, then we use heart segmentation to model how blood travels inside of a heart so that to understand if there is any problem of heart. If any vessel is weakened, and then we need segmentation to do that.</p> <h4 id="segmentation-methods">Segmentation Methods</h4> <p>There are already a lot different versions of segmentation methods, and segmentation has been developed for many many years now. The common and best way to separate the methods into two categories is,</p> <ul> <li>Supervised -&gt; Annotated Database</li> <li>Unsupervised -&gt; Using common sense without use annotation manually</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/RT3wiJ2.png" alt="image-20230925223731903" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 14. Segment Inspiration </div> <h5 id="thresholding">Thresholding</h5> <p>This is some technique involved in the course <a href="https://liuying-1.github.io/blog/2023/histogram"><em>Signal and Image Processing</em></a>, check it in detail to help recall.</p> <ul> <li>Histogram of intensity distribution</li> <li>One or multiple thresholds are used for classifying image pixels into sub partitions</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/C7h6mPg.png" alt="image-20230925223731903" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 15. Thresholding </div> <p><strong>Thresholding: gaussian mixture model</strong></p> <ul> <li>Usually, you need to know in advance how many gaussians you need</li> <li>A good initial guess can help significantly</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/Dv1bS5L.png" class="img-fluid rounded z-depth-1" data-zoomable=""> <img src="https://i.imgur.com/QHBgmXz.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 16. Intensity Histogram and original image </div> <p><strong>Gaussian Mixture Model (GMM)</strong></p> <p>A Gaussian Mixture Model is a probabilistic model that represents <u>a mixture of multiple Gaussian (normal) distributions.</u> In image segmentation, GMM is used to <u>model the distribution of pixel intensities in an image</u>. <u>Instead of assuming a single global threshold</u> like in simple thresholding, GMM assumes that <u>pixel intensities</u> in an image <u>come from a mixture of several Gaussian distributions</u>.</p> <p><strong>Why use GMM?</strong></p> <ul> <li> <strong>Complex Distributions</strong>: GMM is <u>more robust</u> when dealing with complex, <u>multi-modal intensity distributions</u> in an image. It can <u>model situations where the pixel intensities don't follow a simple bimodal distribution</u>.</li> <li> <strong>Flexibility</strong>: It allows for a more flexible and probabilistic approach to modeling image data, which can be particularly useful when objects in an image have varying intensity characteristics.</li> <li> <strong>Adaptive Thresholding</strong>: GMM can adapt to local variations in intensity, making it useful for images with non-uniform lighting conditions.</li> <li> <strong>Soft Segmentation</strong>: GMM can <u>provide soft (probabilistic) segmentations</u>, where each pixel is assigned a probability of belonging to different classes. This can be useful in cases where hard segmentation may be ambiguous.</li> </ul> <p>In summary, Gaussian Mixture Models are used when the intensity distribution in an image is not well-suited for a <u>simple global thresholding approach</u>. GMM provides a more flexible and probabilistic way to model the pixel intensity distribution, which can lead to better segmentation results, especially in cases with complex or non-uniform intensity distributions. However, GMM is <u>computationally more expensive</u> than thresholding, and the choice between these techniques depends on the specific characteristics of the image and the requirements of the segmentation task.</p> <ul> <li>Expectation Maximization (EM) algorithm</li> <li>Iterative improvement of log-likelihood function</li> </ul> <p>The Expectation-Maximization (EM) algorithm is <u>a statistical iterative optimization technique used for finding maximum likelihood estimates of parameters in probabilistic models</u>, especially when dealing with incomplete or missing data. The EM algorithm consists of <u>two main steps</u>, the <u>Expectation</u> (E-step) and the <u>Maximization</u> (M-step), which are <u>iteratively performed until convergence</u>. Here’s an overview of how the EM algorithm works:</p> <ol> <li> <strong>Initialization</strong>: Start with an <u>initial guess</u> for the parameters of the model.</li> <li> <strong>Expectation (E-step)</strong>: <ul> <li>Compute <u>the expected value (expectation) of the log-likelihood of the data</u> with respect to the <u>current estimate of the parameters</u>. This step involves estimating the values of hidden or unobserved variables, given the observed data and the current parameter estimates. It is called the “E-step” because it computes the expected values of these hidden variables.</li> <li>These expected values are also called the “posterior probabilities” or “responsibilities” and represent the probability that each data point belongs to a particular component of the mixture model.</li> </ul> </li> <li> <strong>Maximization (M-step)</strong>: <ul> <li>Update the model parameters to maximize the expected log-likelihood computed in the E-step. This involves <u>finding new parameter estimates</u> that make the observed data more likely given the estimated hidden variables.</li> <li>In many cases, this step involves solving optimization problems to find the best-fitting parameters.</li> </ul> </li> <li> <strong>Iteration</strong>: <ul> <li>Repeat the E-step and M-step iteratively until the algorithm converges. Convergence typically occurs when the change in the estimated parameters between iterations becomes small.</li> </ul> </li> <li> <strong>Final Estimates</strong>: <ul> <li>Once the EM algorithm converges, the final estimates of the model parameters are obtained.</li> </ul> </li> </ol> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/DmxDXO0.png" class="img-fluid rounded z-depth-1" data-zoomable=""> <img src="https://i.imgur.com/P7i535h.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 17. EM algorithm and Resulting segmentation </div> <h5 id="region-growing">Region growing</h5> <p>What we do with thresholding? We actually do not take into account the neighboring pixels. So the region growing is based on that if two pieces are neighboring, two neighboring pixels <u>have similar intensities</u>, they probably belong to the same object.</p> <p>And what <u>region growing</u> does is <u>it's simply adds pixels one by one and merge together in order to get homogeneous regions</u>. Despite being very simple, it can be very useful and relatively accruate in some specific situations.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/DoWc2Az.png" alt="image-20230925223731903" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 18. Region growing Lung Fields </div> <p>Let’s see we have an example of this lung fields. We can try to <u>have some seeds</u>, see the regions which are marked in green and <u>slowly add pieces of the pixel surrounding lungs</u> and <u>add into the mask fluxes</u>.</p> <p><strong>Neighboring Pixels</strong></p> <hr> <ul> <li>You will <u>need seed pixels</u> that are known to belong to the object (objects)</li> <li>Add <u>neighboring pixels</u> $p_t$ as long as $P(p_{t-1}, p_t)=1$</li> <li> <u>Iterate</u> until no further pixels could be added</li> <li> <u>Move to new seed pixels</u> if there is any</li> </ul> <hr> <p>The basic idea of region growing is connectivity. In 2D, there are two types of connectivity,</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/NDoHGoW.png" alt="image-20230925223731903" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 19. Neighboring Pixel </div> <ul> <li> <p>4-connectivity</p> </li> <li> <p>8-connectivity</p> </li> </ul> <p>We can extend the connectivity into this <u>distance-based connectivity</u>, you can see in the same way that pixels are connected <u>if a distance between them is less than 2 millimeters</u>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/sxsnJ2U.png" alt="image-20230925223731903" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 20. Distance-based connectivity </div> <p>In this way, we will <u>add more pixels</u> into our neighborhood.</p> <p>The original region growing is extremely simple. We have <u>seed points</u>, and we have a rule which says that <u>if two neighboring pixels have distance less than $x$</u>. They belong to the same class. And what we do is we <u>slowly iteratively expand our seed pixels</u> until we cannot expand any longer.</p> <p>Let’s look at this toy example.</p> <ul> <li>$P(x, y) = \mid x-y\mid \leq 3$</li> <li>We do not need to have both seeds; the result will be the same</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/UBP64xH.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 21. Toy Example </div> <p>In the first, we have a pixel $1$ with intensity $1$, marked as dark gray. And pixel $7$ marked as light gray. And the expansion rule is that if neighboring pixels have distance less than $3$, then we connected together.</p> <p>In the first iteration we add all neighbors to pixel $7$ because the distance betweem them is less than $3$, and we also add some numbers to pixel $1$. And we can just continuous process until we cannot add any more pixels and we get a pretty logical separation of darker object at the left of our image and brighter object at the right of our image.</p> <p><u>Region growing works good only in very specific circumstances</u>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/AnDvxYO.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 22. Decent region growing </div> <p>For example, segmentation of lungs. You can see that when we give some seeds inside lungs, and we apply region growing and the results are pretty decent.</p> <p>Of course, <u>region growing is imperfect</u>. It can <u>not work well for complex anatomy</u>.</p> <p>For example, here is an attempt of segmenting lung cells and vertebra by using region growing. Due to its similicity alogirthms, it cannot usually produces somooth anatomically relevant borders. So you can see <u>it suffer from leaks</u>, and it also has a <u>problem of noise</u>. If there is a noisy pixel, it cannot penetrate it.</p> <hr> <p>Problems:</p> <ul> <li>Leaks</li> <li>Noise</li> </ul> <hr> <p><strong>Split/merge</strong></p> <p>Another way of doing region growing is approach it from different direction instead of adding pixels to our seeds.</p> <p>What we can try to do is we can <u>separate image into pieces slowly into most dissimilar pieces</u>.</p> <p>For example, we label our whole image as one object. And the first iteration, what we try to do is <u>separating this image into four squares</u>. And we see <u>how similar with this average intensity individual squares.</u> If average intensity is <u>similar, we keep the squares to be the same object</u>. But if is <u>too different, we separate them into pieces</u>. And then we go into each of the squares, and try to <u>separate it further</u>. And we <u>continue until we cannot separate any longer</u>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/pFz9xlY.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 23. Quadtree </div> <hr> <ul> <li>First, the whole image is one initial region</li> <li>In each iteration: <ul> <li>Merge neighboring regions that are too similar $P(R, \hat) = 1$</li> <li>Split regions that are too different $P(R,\hat{R})=0$</li> </ul> </li> <li>Stop when no split or merge can be performed</li> </ul> <p>$P(R, \hat{R})$ can be based on the standard deviation of the pixel intensities.</p> <hr> <p>For the reason of simplicity split/merge happens according to the image quadtree:</p> <ul> <li>For pixels in a $2\times 2$ square belong to a split node of a higher level</li> <li>For squares belong to a split node of a higher level etc.</li> </ul> <p>In such a way, we can get a three potential separations at three of different connected and disconected regions.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/x78VJvd.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 24. Split and Merge Example </div> <p>Here is an example of how this algorithm work.</p> <p>On the left is the result of applying of starting from the labeling the whole image to be one object. And then starting separating the image into squares, and connected each other. However, the problem with such idea is that <u>once we separated to rectangle regions, they cannot anymore merge together.</u> And it might be needed, for example, our rectangle boxes, they never pass perfectly at the border of different structures and it might be needed to go back into some levels and merge some smaller regions together.</p> <p><u>We call it split and merge region growing where we not only separate them into smaller pieces but we can merge them back some of the smaller pieces back if needed.</u></p> <p>And you can see that a separation with split and merge region growing is better than the one with only split region growing.</p> <p><strong><em>You do not have to use thresholding or region growing on raw image intensities.</em></strong></p> <p>The thing about the region growing and thresholding is that these days we don’t use them on raw image intensities because organs are much more complicated than just regions of homogeneous region of specific intensity. But what we can do is we can apply a more sophisticated algorithms, for example, deep learning to enhance organs which we are interested about.</p> <p>For example, here’s is the enhancement of kidney. And then when we enhance the kidney, we can apply thresholding. To analyse this enhanced image, it’s very easier to separate the background from object on the enhanced image instead of separating the kidney on the raw image.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/85DDZnK.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 25. Auxiliary method </div> <p>And this is how thresholding is currently used. <u>It's more used to analyse results of more sophisticated algorithms as an auxiliary method to analyse this.</u></p> <h5 id="other-similar-segmentation-methods">Other similar segmentation methods</h5> <ul> <li>Watersheds</li> <li>Level sets</li> <li>K-means</li> <li>Various thresholding (Otsu, Huang, etc)</li> </ul> <h4 id="example">Example</h4> <p>Let’s have a problem of lung fields segmentation.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/EuGOPR4.png" class="img-fluid rounded z-depth-1" data-zoomable=""> <img src="https://i.imgur.com/W4rM9tt.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 26. Lungs Segmentation </div> <p>Let’s say we have a 3D image of lung fields of a human body and our aim is to segment lung fields from this image. And the lung fields are darker than other structures around. Considering this fact, what we can do is we can use <u>thresholding to separate the lungs</u>. So we can take a histogram and use this histogram to separate <u>according to the first valley which separates air from soft tissues</u>.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/MdVwUIk.png" class="img-fluid rounded z-depth-1" data-zoomable=""> <img src="https://i.imgur.com/RuvoEre.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 27. Resulting image of first valley </div> <p>And here is what we get, it’s perfect but it’s already somehow decent trade. Let’s see if we can improve it by using some simple logical ideas which come down in mind.</p> <p>So here is an illustration of 3D render of our segmentation. Although it looked very nice on the slice we saw on a cross section, we’ve tried to visualize the threshold of mask in 3D, what we see is that apart from the lung fields which are full with air, we also segment that the air outside the human body which doesn’t belong to human body.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/NzGLYB0.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 28. 3D illustration </div> <p>So the first thing we need to think about is how to remove this air outside the human body?</p> <h4 id="must-have-tools">Must-have tools</h4> <h5 id="connected-component-decomposition">Connected component decomposition</h5> <p>And the way to do is by using a tool which is called <u>connected component decomposition</u>.</p> <p>So if you look again to our example fo segmentation of lung fields, what you can see is that the air outside the human body is a very large connected object. So when all areas connected to each other always the air outside and its size is quite significant. And at the same time, lungs are also significant size. And when you look more closely into the image, you find out that not only the air outside the lung fields a human body is also segmentated by thresholding but also air in the stomach is selected. Also air around some image artifacts is also segmented.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/pv7Nlcw.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 29. 3D illustration with useless air </div> <p>And the way to solve it is to use anatomical knowledge which we have prior to solving, to addressing this problem. And what we know is that the air outside with very large volume. And the air outside which was supposed to the largest which we will see in the image. Then, the next largest object is lungs. So for lungs, as the second largest acquistion of air inside of a human body. So what we can do is to find the object which is the second largest and hopefully this object will be lung fields.</p> <p>To do that, we need an algorithm which is called <u>connected component decomposition</u>.</p> <p>What the algorithm tries to do is tries to connect and label the same label all pixels in the mask of we have valued $1$ and connect with which are connected to each other using 8 or 4 connectivity in 2D or 27 or 6 connectivity in 3D.</p> <hr> <p>Separating segmentation results into regions:</p> <ul> <li>Removes noise from segmentation</li> <li>Separates segmentation into regions that can be further analysed</li> </ul> <p>We have a binary image (0-background)</p> <p>Connected component:</p> <ul> <li>All pixels have intensity value 1</li> <li>There is a path between any two pixels using 4-connectivity or 8-connectivity</li> <li>No pixel can be added</li> </ul> <hr> <p>Here is a little bit of algorithmical depth of connected component decomposition.</p> <p>It will be skipped as it is not listed in the learning outcomes.</p> <h5 id="morphological-dilationerosion">Morphological dilation/erosion</h5> <p>The results probably not that satisfied because the lung fields are not only the air. The lungs also contain vessels inside of them. And these vessels will not be segmented by thresholding. However, we still would likt to add these vessels into our mask, then the segmentation will be complete.</p> <p>And the problem is that in some cases, especially in X-ray images, the air in the stomach comes very close to lung fields and sometimes it may come be very connected to lung fields and our lung fields mask can sometimes leak inside of a stomach. And we don’t want these to happen.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/R9YtBEe.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 30. Problems </div> <p>So here is an example of the vessels inside of lung fields, and also example of artificial leak. We don’t want them to be present in our mask. And the way to do it is to apply mathematical operations.</p> <p>There are two types of operations, one is morphological <strong>erosion</strong> and the other one is morphological <strong>dilation</strong>.</p> <p>So the erosion is <u>removes one layer of pixels from our mask</u>. So <u>our masks shrinks one layer inside</u>. So <u>we cut one layer from our mask, for every pixel which has at least one neighbour which is not mask will remove this pixel.</u></p> <p>For dilation is opposite, what it does is, it adds a few layer of pixels into our mask. So for every known mask pixel, which has a mask pixel in our original mask for every such pixel, we include this pixel into our mask.</p> <p>What happens when we apply the erosion and dilation, we don’t return to the original mask.</p> <hr> <p>Informally:</p> <ul> <li>Dilation - expanding of binary mask</li> <li>Erosion - shrinking of binary mask</li> </ul> <p>Dilation/erosion is useful:</p> <ul> <li>To remove all internal noise pixels in segmentation mask</li> <li>To remove all boundary artifacts</li> <li>To smooth the boundaries</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/cnTll6C.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 31. Explaination </div> <hr> <p><strong>Algorithms</strong></p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/2R64uYF.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 32. Erosion </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/DsRTkbD.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 32. Dilation </div> <p>So, let’s look at this example.</p> <p>We have an original mask which looks like this.There is a hole inside, value $0$. Let’s see what will happen if we apply the dilation around this mask.</p> <p>All pixels which had value $0$ in our original image $I$, all pixels which had value $0$ and at least one neighbor which has 1 in the 4 neighborhood, they all turn into $1$ into our new mask. =&gt; Expand our original mask a little bit.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/jFbdP0K.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 33. Dilation -&gt; Erosion </div> <p>So for every pixel which has a label 1 and at least one pixel is neighborhood is 0, and also consider the image border to have 0 labels. We turn this pixel into 0. If it has one neighborhood which is 0 and then we turn it into 0. So all these pixels at the border may turn into 0 because we have at least on neighborhood which has 0. But the pixel which it didn’t turn back into 0 is the one which is in the middle. It was 0 in the very begining, but after the dilation, all its neighbors now are 1. So it cannot anymore turn into 0.</p> <p><u>So what we get is after applying dilation over, we've got almost the same mask except one pixel in the middle, except for one noisy pixel in the middle, which we turn into one by these operation.</u></p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/LUP1lR5.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 34. Erosion -&gt; Dilation </div> <p>Let’s see what happens if we look at the opposite situation.</p> <p>All the pixels which have at least one pixel with label 0 as neighbor will be removed, including this guy who is close to border. After this, we will only have two pixels left as label 1. Then, we play dilation. The result shows that compared to the original one, something bottom is not needed for us will be removed.</p> <p>In some situations, we also lost some pixels and for such a small mask, it’s a significant loss. But you can imagine in our real life, our mask is very larger. So losing only some pixels at the borders will not be that critical in comparison to removing the noise and the comparison to remove the leaks which we don’t want to have.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <img src="https://i.imgur.com/vIo7Jsn.png" class="img-fluid rounded z-depth-1" data-zoomable=""> </div> </div> <div class="caption"> Figure 35. Result of dilation -&gt; erosion </div> <p>5 times dilation and then 5 times erosion. =&gt; we add all the vessels into our lung field mask, and then the borders of our mask get smoothed. Some inhomogeneity of border is disappeared.</p> <p><u>So we not only included the vessels into our mask, which we wanted the beginning, but we also get an opportunity to remove noisy at the borders.</u></p> <p>This note will be fixed in soon once I am not that busy.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/graduation/">Graduation</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/swav/">Review of SwAV</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/simsiam/">Review of SimSiam</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/byol/">Extracts from BYOL</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/cookbook-1/">Cookbook Reading - 1</a> </li> <div id="giscus_thread" style="max-width: 930px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"LiuYing-1/liuying-1.github.io","data-repo-id":"R_kgDOJQ12MQ","data-category":"Announcements","data-category-id":"DIC_kwDOJQ12Mc4CVcDU","data-mapping":"pathname","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Y. Liu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-JC70RZ57BT"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JC70RZ57BT");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"About",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"Blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-cv",title:"CV",description:"Here is a brief overview of my academic and professional background, and hope there is something interesting for you. The more comprehensive version can be accessed by clicking the PDF icon on right top corner of this page.",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-graduation",title:"Graduation",description:"Congratulations to my graduation from the DIKU, University of Copenhagen.",section:"Posts",handler:()=>{window.location.href="/blog/2024/graduation/"}},{id:"post-review-of-swav",title:"Review of SwAV",description:"This is the learning of the paper SwAV.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/swav.pdf"}},{id:"post-review-of-simsiam",title:"Review of SimSiam",description:"This is the learning of the paper SimSiam.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/SimSIAM.pdf"}},{id:"post-extracts-from-byol",title:"Extracts from BYOL",description:"Review of the paper BYOL and to extract the main points",section:"Posts",handler:()=>{window.location.href="/blog/2024/byol/"}},{id:"post-cookbook-reading-1",title:"Cookbook Reading - 1",description:"This is the first part of this book.",section:"Posts",handler:()=>{window.location.href="/blog/2024/cookbook-1/"}},{id:"post-advanced-image-registration",title:"Advanced Image Registration",description:"Self-learning note for advanced image registration.",section:"Posts",handler:()=>{window.location.href="/blog/2023/advanced-image-registration/"}},{id:"post-image-registration-basics",title:"Image Registration Basics",description:"Learning note for medical image registration.",section:"Posts",handler:()=>{window.location.href="/blog/2023/image-registration-l1/"}},{id:"post-segmentation-basics",title:"Segmentation Basics",description:"Learning note for medical image segmentation.",section:"Posts",handler:()=>{window.location.href="/blog/2023/segmentation-basics/"}},{id:"post-inpainting",title:"Inpainting",description:"Learning note for inpainting.",section:"Posts",handler:()=>{window.location.href="/blog/2023/inpainting/"}},{id:"post-magnetic-resonance",title:"Magnetic Resonance",description:"Preview of the lecture for MRI.",section:"Posts",handler:()=>{window.location.href="/blog/2023/mia-mr/"}},{id:"post-x-ray-and-ct",title:"X-ray and CT",description:"This is the first lecture of the course Medical Image Analysis at UCPH.",section:"Posts",handler:()=>{window.location.href="/blog/2023/mia-l1/"}},{id:"post-dansk-gt-0307",title:"Dansk &gt; 0307",description:"This is the learning note for my first lesson at Ucplus.",section:"Posts",handler:()=>{window.location.href="/blog/2023/dansk-week-1/"}},{id:"post-dictation-gt-the-art-of-balancing-stones",title:"Dictation &gt; The Art of Balancing Stones",description:"This is a daily dictation 2 for English improvement.",section:"Posts",handler:()=>{window.location.href="/blog/2023/the-art-of-balancing-stones/"}},{id:"post-dictation-gt-the-egg",title:"Dictation &gt; The Egg",description:"This is a daily dictation 1 for English improvement.",section:"Posts",handler:()=>{window.location.href="/blog/2023/the-egg/"}},{id:"post-neural-network-ii-mlops",title:"Neural Network II | MLOps",description:"This is the lecture for Neural Network II and MLOps.",section:"Posts",handler:()=>{window.location.href="/blog/2023/ml-ops/"}},{id:"post-neural-network",title:"Neural Network",description:"Recap of Neural Network",section:"Posts",handler:()=>{window.location.href="/blog/2023/neural-network-recap/"}},{id:"post-easter-lunch",title:"Easter Lunch",description:"This is the first time to have lunch with my Danish family at Easter.",section:"Posts",handler:()=>{window.location.href="/blog/2023/easter-lunch/"}},{id:"post-segmentation",title:"Segmentation",description:"Image Segmentation, including Hough Transform",section:"Posts",handler:()=>{window.location.href="/blog/2023/segmentation/"}},{id:"post-features",title:"Features",description:"Image feature detection and matching with application.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/features.pdf"}},{id:"post-transformation",title:"Transformation",description:"Affine, Rigid, Perspective linear transformations, etc.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/geometry.pdf"}},{id:"post-deconvolution",title:"Deconvolution",description:"Image Restoration by Deconvolution",section:"Posts",handler:()=>{window.location.href="/blog/2023/deconvolution/"}},{id:"post-histogram",title:"Histogram",description:"Thresholding segmentation and histogram techniques.",section:"Posts",handler:()=>{window.location.href="/blog/2023/histogram/"}},{id:"post-fourier",title:"Fourier",description:"Complex numbers and Fourier transformation.",section:"Posts",handler:()=>{window.location.href="/blog/2023/fourier/"}},{id:"post-filtering",title:"Filtering",description:"Linear and non-linear filtering, derivative operators.",section:"Posts",handler:()=>{window.location.href="/blog/2023/filtering/"}},{id:"post-convolution",title:"Convolution",description:"Pixel-wise Operations, Intensity, Transformations, Image Formation, and the Convolution Integral.",section:"Posts",handler:()=>{window.location.href="/blog/2023/convolution/"}},{id:"post-app-and-term",title:"App and Term",description:"Introduction of the Signal and Image Processing course, including the basic concepts, terminology, and applications.",section:"Posts",handler:()=>{window.location.href="/blog/2023/intro/"}},{id:"post-aads-grade",title:"AADS Grade",description:"This is to record I got 12 on the course Advanced Algorithms and Data Structures.",section:"Posts",handler:()=>{window.location.href="/blog/2023/aads-grade/"}},{id:"post-polygon-triangulation",title:"Polygon Triangulation",description:"This is the learning note for Polygon Triangulation.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/polygon.pdf"}},{id:"post-approximation",title:"Approximation",description:"This is the learning note for Approximation algorithm - 1.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/approx1.pdf"}},{id:"post-exact-parameterized",title:"Exact-Parameterized",description:"This is the learning note for Exact-Parameterized algorithm.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/EE.pdf"}},{id:"post-npc",title:"NPC",description:"This is the learning note for NPC.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/NPC.pdf"}},{id:"post-van-emde-boas-tree",title:"van Emde Boas Tree",description:"This is the learning note for vEB.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/van-Emde-Boas-Trees.pdf"}},{id:"post-sad-mood",title:"Sad Mood",description:"This blog is to record my current sad mood.",section:"Posts",handler:()=>{window.location.href="/blog/2023/sad-mood/"}},{id:"post-hashing",title:"Hashing",description:"This is the learning note for Hashing.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/Hashing.pdf"}},{id:"post-randomized-algorithms",title:"Randomized Algorithms",description:"This is the learning note for the Randomized Algorithms.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/RA.pdf"}},{id:"post-linear-programming",title:"Linear Programming",description:"This is the learning note for the Linear Programming.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/Linear-programming.pdf"}},{id:"post-max-flow",title:"Max-flow",description:"This is the learning note for the Max-flow.",section:"Posts",handler:()=>{window.location.href="/assets/pdf/Max-flow.pdf"}},{id:"post-recovery-gt-crash",title:"Recovery &gt; Crash",description:"This is the special case of the recovery when the system crashes.",section:"Posts",handler:()=>{window.location.href="/blog/2023/recovery-crash/"}},{id:"post-recovery-gt-normal",title:"Recovery &gt; Normal",description:"This is the special part for recovery and normal.",section:"Posts",handler:()=>{window.location.href="/blog/2023/recovery-normal/"}},{id:"post-experiment-recovery",title:"Experiment | Recovery",description:"Here are the chapters of Experiments and Recovery.",section:"Posts",handler:()=>{window.location.href="/blog/2023/recover/"}},{id:"post-concourrency-2",title:"Concourrency 2",description:"This is the chapter relating to concurrency control - Part 2.",section:"Posts",handler:()=>{window.location.href="/blog/2023/concurrency-2/"}},{id:"post-concourrency-1",title:"Concourrency 1",description:"This is the chapter relating to concurrency control.",section:"Posts",handler:()=>{window.location.href="/blog/2022/concurrency/"}},{id:"post-godt-nyt\xe5r",title:"Godt Nyt\xe5r",description:"The blog is to record my first New Year&#39;s Eve in Denmark!",section:"Posts",handler:()=>{window.location.href="/blog/2022/godt-nytar/"}},{id:"post-incorrect-url",title:"Incorrect URL",description:"Last time, my neighbor, whose world ranking in CSGO is the Global Elite, received a Christmas gift by his nisse.",section:"Posts",handler:()=>{window.location.href="/blog/2022/incorrect-url/"}},{id:"post-rpc-performance",title:"RPC | Performance",description:"RPC and Permance are the two topics we will cover today.",section:"Posts",handler:()=>{window.location.href="/blog/2022/rpc/"}},{id:"post-abstractions",title:"Abstractions",description:"Basic concepts of computer systems.",section:"Posts",handler:()=>{window.location.href="/blog/2022/abstractions/"}},{id:"post-tivoli-firework",title:"Tivoli Firework",description:"To accompany Jianxiang Yu, we went to the second oldest theme park worldwide, Tivoli in Denmark yesterday.",section:"Posts",handler:()=>{window.location.href="/blog/2022/tivoli-firework/"}},{id:"post-royal-guardian",title:"Royal Guardian",description:"The shift of the royal guardian in Marmorkirken.",section:"Posts",handler:()=>{window.location.href="/blog/2022/royal-gardian/"}},{id:"post-swan-nearby",title:"Swan Nearby",description:"A record to keep this swan in my memory.",section:"Posts",handler:()=>{window.location.href="/blog/2022/swan-nearby/"}},{id:"post-chef-first-time",title:"Chef First Time",description:"This is my first time being the chef to cook for my danish family!",section:"Posts",handler:()=>{window.location.href="/blog/2022/chief-first-time/"}},{id:"post-travel-to-malm\xf6",title:"Travel to Malm\xf6",description:"This is the final version of the image preprocessing with the limitation that cannot automatically crop the image in the center. However, it can work properly in normal situations. Also, this blog is used to record my trip to Malm\xf6, Sweden with Xuanlang.",section:"Posts",handler:()=>{window.location.href="/blog/2022/travel-to-malmo/"}},{id:"post-dev-progress",title:"Dev Progress",description:"In this version, the development of my blog website is already passed half. \u8fd9\u91cc\u662f\u4e2d\u6587\u5b57\u4f53\u6d4b\u8bd5\u3002",section:"Posts",handler:()=>{window.location.href="/blog/2022/dev-progress/"}},{id:"post-take-metro",title:"Take Metro",description:"This blog is to record my route from DIKU back to my dorm at 00:53 am several days ago.",section:"Posts",handler:()=>{window.location.href="/blog/2022/take-metro/"}},{id:"post-start-my-blog",title:"Start My Blog",description:"Memorize the start of the implementation of my blog-web.",section:"Posts",handler:()=>{window.location.href="/blog/2022/start-my-blog/"}},{id:"news-i-have-defended-my-master-thesis-quot-exploration-of-self-supervised-learning-methods-for-longitudinal-image-analysis-quot-and-received-my-master-39-s-degree-meanwhile-i-have-been-offered-a-job-as-an-ai-engineer-in-a-company",title:"I have defended my master thesis **&quot;Exploration of Self-Supervised Learning Methods for Longitudinal Image Analysis&quot;** and received my Master&#39;s Degree. Meanwhile, I have been offered a job as an **AI Engineer** in a company. \ud83c\udf93\ud83c\udf89\ud83d\ude80",description:"",section:"News"},{id:"news-going-to-be-one-of-tas-for-the-course-advanced-deep-learning-in-b4-2024-at-university-of-copenhagen",title:"\ud83e\udd70 Going to be one of TAs for the course **Advanced Deep Learning** in B4-2024 at University of Copenhagen.",description:"",section:"News"},{id:"news-congrats-to-me-for-passing-the-courses-medical-image-analysis-advanced-topics-in-image-analysis-and-project-of-research-in-self-supervised-learning-methods-for-longitudinal-images-with-10-out-of-12",title:"\ud83e\udd73 Congrats to me for passing the courses **Medical Image Analysis**, **Advanced Topics in Image Analysis**, and **Project of Research in Self-Supervised Learning Methods for Longitudinal Images** with **10 out of 12**.",description:"",section:"News"},{id:"news-i-am-happy-to-share-i-got-12-out-of-12-in-the-courses-of-advanced-algorithms-and-data-structures-signal-and-image-processing-and-advanced-deep-learning",title:"\ud83c\udf7b I am happy to share I got **12 out of 12** in the courses of **Advanced Algorithms and Data Structures**, **Signal and Image Processing**, and **Advanced Deep Learning**.",description:"",section:"News"},{id:"news-learning-notes-advanced-algorithms-and-data-structures-https-liuying-1-github-io-blog-tag-aads-signal-and-image-processing-https-liuying-1-github-io-blog-tag-sip-and-advanced-computer-systems-https-liuying-1-github-io-blog-tag-acs-have-been-transferred-from-my-self-developed-website-to-this-one",title:"\ud83d\udcd4 Learning notes [**Advanced Algorithms and Data Structures**](https://liuying-1.github.io/blog/tag/aads), [**Signal and Image Processing**](https://liuying-1.github.io/blog/tag/sip), and [**Advanced Computer Systems**](https://liuying-1.github.io/blog/tag/acs) have been transferred from my self-developed website to this one.",description:"",section:"News"},{id:"projects-project-1",title:"project 1",description:"with background image",section:"Projects",handler:()=>{window.location.href="/projects/1_project/"}},{id:"projects-project-2",title:"project 2",description:"a project with a background image and giscus comments",section:"Projects",handler:()=>{window.location.href="/projects/2_project/"}},{id:"projects-project-3-with-very-long-name",title:"project 3 with very long name",description:"a project that redirects to another website",section:"Projects",handler:()=>{window.location.href="/projects/3_project/"}},{id:"projects-project-4",title:"project 4",description:"another without an image",section:"Projects",handler:()=>{window.location.href="/projects/4_project/"}},{id:"projects-project-5",title:"project 5",description:"a project with a background image",section:"Projects",handler:()=>{window.location.href="/projects/5_project/"}},{id:"projects-project-6",title:"project 6",description:"a project with no image",section:"Projects",handler:()=>{window.location.href="/projects/6_project/"}},{id:"projects-project-7",title:"project 7",description:"with background image",section:"Projects",handler:()=>{window.location.href="/projects/7_project/"}},{id:"projects-project-8",title:"project 8",description:"an other project with a background image and giscus comments",section:"Projects",handler:()=>{window.location.href="/projects/8_project/"}},{id:"projects-project-9",title:"project 9",description:"another project with an image \ud83c\udf89",section:"Projects",handler:()=>{window.location.href="/projects/9_project/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6C%79%35%38%31%30%39%39@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/liu-ying-463ab925b","_blank")}},{id:"socials-facebook",title:"Facebook",section:"Socials",handler:()=>{window.open("https://facebook.com/100085288350390","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js"></script> </body> </html>